<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue | Zero</title>
    <meta name="description" content="A VitePress site">
    <link rel="preload stylesheet" href="/.srcstatic/style.3d73b6f7.css" as="style">
    
    <script type="module" src="/.srcstatic/app.2783b02b.js"></script>
    <link rel="preload" href="/.srcstatic/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/.srcstatic/chunks/framework.97e1d4f2.js">
    <link rel="modulepreload" href="/.srcstatic/chunks/theme.12ad0a8b.js">
    <link rel="modulepreload" href="/.srcstatic/eat_vue_interview_question.md.2fdbcf76.lean.js">
    <link rel="icon" href="/logo.ico">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-36382ed6><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c3508ec8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c3508ec8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-36382ed6 data-v-7c10a9e2><div class="VPNavBar has-sidebar" data-v-7c10a9e2 data-v-fd660878><div class="container" data-v-fd660878><div class="title" data-v-fd660878><div class="VPNavBarTitle has-sidebar" data-v-fd660878 data-v-9cb98dab><a class="title" href="/" data-v-9cb98dab><!--[--><!--]--><!--[--><img class="VPImage logo" src="/avatar.png" alt data-v-35a7d0b8><!--]--><!--[-->Zero<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-fd660878><div class="curtain" data-v-fd660878></div><div class="content-body" data-v-fd660878><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-fd660878><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fd660878 data-v-492ea56d><span id="main-nav-aria-label" class="visually-hidden" data-v-492ea56d>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-492ea56d data-v-2781b5e7><!--[--><span data-v-2781b5e7>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/articles/" tabindex="0" data-v-492ea56d data-v-2781b5e7><!--[--><span data-v-2781b5e7>博客</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/works/" tabindex="0" data-v-492ea56d data-v-2781b5e7><!--[--><span data-v-2781b5e7>作品</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/mine/" tabindex="0" data-v-492ea56d data-v-2781b5e7><!--[--><span data-v-2781b5e7>简历</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/eat/" tabindex="0" data-v-492ea56d data-v-2781b5e7><!--[--><span data-v-2781b5e7>吃饭</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fd660878 data-v-98566150><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="true" data-v-98566150 data-v-288cbc95 data-v-b60171c1><span class="check" data-v-b60171c1><span class="icon" data-v-b60171c1><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-288cbc95><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-288cbc95><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-fd660878 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ruo-love" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-a94e74d9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-fd660878 data-v-608cba8b data-v-473f4f87><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-473f4f87><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-473f4f87><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-473f4f87><div class="VPMenu" data-v-473f4f87 data-v-97491713><!----><!--[--><!--[--><!----><div class="group" data-v-608cba8b><div class="item appearance" data-v-608cba8b><p class="label" data-v-608cba8b>Appearance</p><div class="appearance-action" data-v-608cba8b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="true" data-v-608cba8b data-v-288cbc95 data-v-b60171c1><span class="check" data-v-b60171c1><span class="icon" data-v-b60171c1><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-288cbc95><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-288cbc95><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-608cba8b><div class="item social-links" data-v-608cba8b><div class="VPSocialLinks social-links-list" data-v-608cba8b data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ruo-love" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-a94e74d9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fd660878 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-36382ed6 data-v-eef76b70><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-eef76b70><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-eef76b70><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-eef76b70>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-eef76b70 data-v-1b525709><button data-v-1b525709>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-36382ed6 data-v-c3f8b67a><div class="curtain" data-v-c3f8b67a></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-c3f8b67a><span class="visually-hidden" id="sidebar-aria-label" data-v-c3f8b67a> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-c3f8b67a><section class="VPSidebarItem level-0 has-active" data-v-c3f8b67a data-v-1cde40c8><div class="item" role="button" tabindex="0" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><h2 class="text" data-v-1cde40c8>面试题</h2><!----></div><div class="items" data-v-1cde40c8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/eat/javascript/interview_question.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>javaScript面试题库</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/eat/arithmetic/" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/eat/vue/interview_question.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Vue面试题库</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/eat/react/" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>React面试题库</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-36382ed6 data-v-3cfaefff><div class="VPDoc has-sidebar has-aside" data-v-3cfaefff data-v-e521b9a4><!--[--><!--]--><div class="container" data-v-e521b9a4><div class="aside" data-v-e521b9a4><div class="aside-curtain" data-v-e521b9a4></div><div class="aside-container" data-v-e521b9a4><div class="aside-content" data-v-e521b9a4><div class="VPDocAside" data-v-e521b9a4 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-6d7b3c46 data-v-e8005310><div class="content" data-v-e8005310><div class="outline-marker" data-v-e8005310></div><div class="outline-title" role="heading" data-v-e8005310>目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-e8005310><span class="visually-hidden" id="doc-outline-aria-label" data-v-e8005310> Table of Contents for current page </span><ul class="root" data-v-e8005310 data-v-bee2b9d1><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e521b9a4><div class="content-container" data-v-e521b9a4><!--[--><!--]--><!----><main class="main" data-v-e521b9a4><div style="position:relative;" class="vp-doc _eat_vue_interview_question external-link-icon-enabled" data-v-e521b9a4><div><h1 id="vue" tabindex="-1">vue <a class="header-anchor" href="#vue" aria-label="Permalink to &quot;vue&quot;">​</a></h1><p>vue特点</p><ul><li>组件化</li><li>双向绑定</li><li>轻量级框架</li><li>渐进式</li><li>数据、视图相分离、前后端分离</li></ul><h4 id="new%20Vue%20%E5%90%8E%E7%BB%AD%E8%BF%87%E7%A8%8B" tabindex="-1">new Vue 后续过程 <a class="header-anchor" href="#new Vue 后续过程" aria-label="Permalink to &quot;new Vue 后续过程&quot;">​</a></h4><p>创建Vue实例</p><ol><li><p>vue只能通过new关键字初始化</p></li><li><p>合并传入的options</p></li><li><p>初始化生命周期</p></li><li><p>初始化事件中心</p></li><li><p>初始化渲染</p></li><li><p>初始化data</p></li><li><p>初始化props</p></li><li><p>初始化computed</p></li><li><p>初始化watch</p></li><li><p>最后检测是否有el属性，有的话就把上面渲染好的代码挂载到页面上</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">Vue构造函数的核心代码只有一行：this._init(options)</span></span>
<span class="line"><span style="color:#393a34;">_init 方法中主要做了下边几件事情：</span></span>
<span class="line"><span style="color:#393a34;"></span></span>
<span class="line"><span style="color:#393a34;">合并配置：_init 的参数 options 就是 new Vue(options) 时传入的选项，在这里通过 mergeOptions 方法把 options 合并到 vm.$options 中。</span></span>
<span class="line"><span style="color:#393a34;">调用 initLifecycle(vm)、initEvents(vm)、initRender(vm)、initState(vm) 函数进行生命周期的初始化、事件中心的初始化、渲染的初始化、data、props、computed、watch的初始化等等。其中 initState 就是将vue实例中的data、props、computed、watch等数据项做进一步得处理，其实就是做代理以及转化成可观测对象。</span></span>
<span class="line"><span style="color:#393a34;">另外，我们可以看到在 initState(vm) 执行之前，我们执行了 beforeCreate 方法，在 initState(vm) 执行之后，我们执行了 created 方法。因此在 beforeCreate 方法中，我们无法直接引用data，method，computed，watch等在 initState(vm) 中才开始存在的属性。</span></span>
<span class="line"><span style="color:#393a34;">检测是否有el属性，有的话就调用 vm.$mount(vm.$options.el) 进行挂载渲染成真实dom。</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ol><h4 id="%E7%88%B6%E7%BB%84%E4%BB%B6%E8%A7%A6%E5%8F%91%E5%AD%90%E7%BB%84%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95" tabindex="-1">父组件触发子组件的方法 <a class="header-anchor" href="#父组件触发子组件的方法" aria-label="Permalink to &quot;父组件触发子组件的方法&quot;">​</a></h4><ol><li><p>this.$refs.child.say()</p></li><li><p>$emit、$on （vue3中 从实例中完全移除了 <code>$on</code>、<code>$off</code> 和 <code>$once</code> 方法 ）</p><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393A34;">//子组件</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">child</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">created</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">paraentHandler</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">say</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">say</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">child say</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">//父组件</span></span>
<span class="line"><span style="color:#393A34;">...</span></span>
<span class="line"><span style="color:#393A34;">this.$refs.child.$emit(&#39;paraentHandler&#39;)</span></span>
<span class="line"><span style="color:#393A34;">...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li></ol><h4 id="vue%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E6%94%BE%E5%9C%A8%E5%93%AA%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%AD" tabindex="-1">vue异步请求放在哪个生命周期中 <a class="header-anchor" href="#vue异步请求放在哪个生命周期中" aria-label="Permalink to &quot;vue异步请求放在哪个生命周期中&quot;">​</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">created 阶段的优势是：请求时间比较早，页面 loading 时间相对较短；（调用异步请求最佳，用户就越早感知页面的已加载）</span></span>
<span class="line"><span style="color:#393a34;">mounted 阶段的优势是：页面已经渲染完成，如果想请求之后进行 DOM 操作的话，必须在 mounted 阶段发起请求</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="vue%E6%8F%92%E4%BB%B6" tabindex="-1">vue插件 <a class="header-anchor" href="#vue插件" aria-label="Permalink to &quot;vue插件&quot;">​</a></h4><p>Vue.js 的插件应该暴露一个 <code>install</code> 方法。这个方法的第一个参数是 Vue实例对象，第二个参数是一个可选的选项对象：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#B07D48;">MyPlugin</span><span style="color:#999999;">.</span><span style="color:#59873A;">install</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">Vue</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">options</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 1. 添加全局方法或 property</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">Vue</span><span style="color:#999999;">.</span><span style="color:#59873A;">myGlobalMethod</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 逻辑...</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 2. 添加全局资源</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">Vue</span><span style="color:#999999;">.</span><span style="color:#59873A;">directive</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">my-directive</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">bind</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">el</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">binding</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">vnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldVnode</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 逻辑...</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">...</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 3. 注入组件选项</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">Vue</span><span style="color:#999999;">.</span><span style="color:#59873A;">mixin</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">created</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 逻辑...</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">...</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 4. 添加实例方法</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">Vue</span><span style="color:#999999;">.</span><span style="color:#998418;">prototype</span><span style="color:#999999;">.</span><span style="color:#59873A;">$myMethod</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">methodOptions</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 逻辑...</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B07D48;">Vue</span><span style="color:#999999;">.</span><span style="color:#59873A;">provide</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">i18n</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">options</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">Vue.use(MyPlugin, { someOption: true })</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="vue-loader" tabindex="-1">vue-loader <a class="header-anchor" href="#vue-loader" aria-label="Permalink to &quot;vue-loader&quot;">​</a></h4><p>vue-loader 会解析Vue文件，提取出每个语言块[html\js\css],交给对应的loader处理，如果有必要会调用其他loader处理，最后将他们组装成一个common.js模块，module.exports出一个vue组件对象</p><h4 id="%E4%BF%AE%E9%A5%B0%E7%AC%A6" tabindex="-1">修饰符 <a class="header-anchor" href="#修饰符" aria-label="Permalink to &quot;修饰符&quot;">​</a></h4><h5 id="%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6" tabindex="-1">事件修饰符 <a class="header-anchor" href="#事件修饰符" aria-label="Permalink to &quot;事件修饰符&quot;">​</a></h5><ul><li>.stop 阻止事件继续传播</li><li>.prevent 阻止标签默认行为</li><li>.capture 使用事件捕获模式,即元素自身触发的事件先在此处处理，然后才交由内部元素进行处理</li><li>.self 只当在 event.target 是当前元素自身时触发处理函数</li><li>.once 事件将只会触发一次</li><li>.passive 告诉浏览器你不想阻止事件的默认行为</li><li>.native 组件根节点绑定原生事件</li></ul><h5 id="v-model%E7%9A%84%E4%BF%AE%E9%A5%B0%E7%AC%A6" tabindex="-1">v-model的修饰符 <a class="header-anchor" href="#v-model的修饰符" aria-label="Permalink to &quot;v-model的修饰符&quot;">​</a></h5><ul><li>.lazy默认情况下，v-model同步输入框的值和数据。可以通过这个修饰符，转变为在change事件再同步。<input></li><li>.number 自动将用户的输入值转化为数值类型 <input></li><li>.trim 自动过滤用户输入的首尾空格 <input></li></ul><h5 id="%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6" tabindex="-1">按键修饰符 <a class="header-anchor" href="#按键修饰符" aria-label="Permalink to &quot;按键修饰符&quot;">​</a></h5><h4 id="vue%E4%B8%ADextend%E3%80%81mixins%E3%80%81extends%E7%9A%84%E5%8C%BA%E5%88%AB" tabindex="-1">vue中extend、mixins、extends的区别 <a class="header-anchor" href="#vue中extend、mixins、extends的区别" aria-label="Permalink to &quot;vue中extend、mixins、extends的区别&quot;">​</a></h4><h4 id="Vue.extend" tabindex="-1">Vue.extend <a class="header-anchor" href="#Vue.extend" aria-label="Permalink to &quot;Vue.extend&quot;">​</a></h4><p>有时候由于业务需要我们可能要去动态的<code>生成一个组件</code>并且要独立<code>渲染到其它元素节点</code>中，这时它们就派上了用场；</p><h5 id="extend%20%E5%8E%9F%E7%90%86" tabindex="-1">extend 原理 <a class="header-anchor" href="#extend 原理" aria-label="Permalink to &quot;extend 原理&quot;">​</a></h5><ul><li><code>Vue.extend</code> 作用是扩展组件生成一个构造器，它接受一个组件对象，使用原型继承的方法返回了<code>Vue</code>的子类，并且把传入组件的<code>options</code>和父类的<code>options</code>进行了合并；通常会与 <code>$mount</code> 一起使用。</li><li>所以，我们使用<code>extend</code>可以将组件转为构造函数，在实例化这个这个构造函数后，就会得到组件的真实<code>Dom</code>，这个时候我们就可以使用 <code>$mount</code> 去挂载到<code>DOM</code>上；</li></ul><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">&lt;div id=&quot;mount-point&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span style="color:#393a34;">// 创建构造器</span></span>
<span class="line"><span style="color:#393a34;">var Profile = Vue.extend({</span></span>
<span class="line"><span style="color:#393a34;">  template: &#39;&lt;p&gt;{{firstName}} {{lastName}} aka {{alias}}&lt;/p&gt;&#39;,</span></span>
<span class="line"><span style="color:#393a34;">  data: function () {</span></span>
<span class="line"><span style="color:#393a34;">    return {</span></span>
<span class="line"><span style="color:#393a34;">      firstName: &#39;Walter&#39;,</span></span>
<span class="line"><span style="color:#393a34;">      lastName: &#39;White&#39;,</span></span>
<span class="line"><span style="color:#393a34;">      alias: &#39;Heisenberg&#39;</span></span>
<span class="line"><span style="color:#393a34;">    }</span></span>
<span class="line"><span style="color:#393a34;">  }</span></span>
<span class="line"><span style="color:#393a34;">})</span></span>
<span class="line"><span style="color:#393a34;">// 创建 Profile 实例，并挂载到一个元素上。</span></span>
<span class="line"><span style="color:#393a34;">new Profile().$mount(&#39;#mount-point&#39;)</span></span>
<span class="line"><span style="color:#393a34;"> </span></span>
<span class="line"><span style="color:#393a34;">// 结果如下：</span></span>
<span class="line"><span style="color:#393a34;">&lt;p&gt;Walter White aka Heisenberg&lt;/p&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>mixins可以混入多个，当组件使用混入对象时，所有混入对象的选项将被“混合”进入该组件本身的选项。当组件和混入对象含有同名选项时，这些选项将以恰当的方式进行“合并”。数据对象在内部会进行递归合并，并在发生冲突时以组件数据优先。 同名钩子函数将合并为一个数组，因此都将被调用。另外，混入对象的钩子将在组件自身钩子之前调用。其缺点是容易产生命名冲突、不能传参</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">// mixins示例</span></span>
<span class="line"><span style="color:#393a34;">var mixinA = {</span></span>
<span class="line"><span style="color:#393a34;">  created: function () { console.log(1) }</span></span>
<span class="line"><span style="color:#393a34;">}</span></span>
<span class="line"><span style="color:#393a34;"> var mixinB = {</span></span>
<span class="line"><span style="color:#393a34;">  created: function () { console.log(2) }</span></span>
<span class="line"><span style="color:#393a34;">}</span></span>
<span class="line"><span style="color:#393a34;">var vm = new Vue({</span></span>
<span class="line"><span style="color:#393a34;">  created: function () { console.log(3) },</span></span>
<span class="line"><span style="color:#393a34;">  mixins: [mixinA ,mixinB ]</span></span>
<span class="line"><span style="color:#393a34;">})</span></span>
<span class="line"><span style="color:#393a34;">//依次打印出 1 2 3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>extends声明扩展另一个组件(可以是一个简单的选项对象或构造函数)无需使用 Vue.extend。这主要是为了便于扩展单文件组件。和 mixins 类似。但extends只能继承一个，<code>extends</code> 和 <code>mixins</code> 表达了不同的意图。<code>mixins</code> 选项主要用来组合功能，而 <code>extends</code> 主要用来考虑继承性。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">var otherComp= { ... }</span></span>
<span class="line"><span style="color:#393a34;"></span></span>
<span class="line"><span style="color:#393a34;">// 继承 otherComp</span></span>
<span class="line"><span style="color:#393a34;">var comp = {</span></span>
<span class="line"><span style="color:#393a34;">  extends: otherComp,</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>总结：都是为了拓展组件的功能，优先级extend&gt;extends&gt;mixins</p><h4 id="vue%20router%20%E8%B7%AF%E7%94%B1%E9%92%A9%E5%AD%90" tabindex="-1">vue router 路由钩子 <a class="header-anchor" href="#vue router 路由钩子" aria-label="Permalink to &quot;vue router 路由钩子&quot;">​</a></h4><ul><li>beforeEach(callback(to, from, next))</li><li>afterEach(callback(to, from))</li><li>beforeEnter(callback(to, from, next))</li><li>beforeRouteEnter(to, from, next)</li><li>beforeRouteUpdate(to, from, next)</li><li>beforeRouteLeave(to, from, next)</li></ul><h4 id="vue%E4%B8%AD%E9%94%99%E8%AF%AF%E7%9B%91%E5%90%AC" tabindex="-1">vue中错误监听 <a class="header-anchor" href="#vue中错误监听" aria-label="Permalink to &quot;vue中错误监听&quot;">​</a></h4><ul><li><p>window.onerror() //全局监听js错误信息</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">全局监听所有js错误</span></span>
<span class="line"><span style="color:#393a34;">可以捕捉到vue检测不到的一些错误，如可以监听到异步错误</span></span>
<span class="line"><span style="color:#393a34;">window.onerror()是js级别的，无法监听到vue组件的错误信息</span></span>
<span class="line"><span style="color:#393a34;"></span></span>
<span class="line"><span style="color:#393a34;">window.onerror = function(message, source, lineno, colno, error) { ... }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>errorCaptured() //监听一些有风险的组件</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">监听所有下降错误信息</span></span>
<span class="line"><span style="color:#393a34;">返回false 阻止错误向上传递</span></span>
<span class="line"><span style="color:#393a34;">不能监听到异步错误</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>errorHandler //全局监听vue中的错误信息</p></li><li><p>warnHandler //警</p></li><li></li><li><p>告监听</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">vue全局监听错误，所有组件报错都会汇总到这里</span></span>
<span class="line"><span style="color:#393a34;">如果内部errorCaptured() return false  则无法捕捉到对应的错误信息</span></span>
<span class="line"><span style="color:#393a34;">不能监听到异步错误</span></span>
<span class="line"><span style="color:#393a34;"></span></span>
<span class="line"><span style="color:#393a34;">Vue.config.errorHandler = function (err, vm, info) {</span></span>
<span class="line"><span style="color:#393a34;">  #处理错误信息, 进行错误上报</span></span>
<span class="line"><span style="color:#393a34;">  #err错误对象</span></span>
<span class="line"><span style="color:#393a34;">  #vm Vue实例</span></span>
<span class="line"><span style="color:#393a34;">  #`info` 是 Vue 特定的错误信息，比如错误所在的生命周期钩子</span></span>
<span class="line"><span style="color:#393a34;">  #只在 2.2.0+ 可用</span></span>
<span class="line"><span style="color:#393a34;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul><h4 id="%24nexttick" tabindex="-1">$nexttick <a class="header-anchor" href="#%24nexttick" aria-label="Permalink to &quot;$nexttick&quot;">​</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">Vue.nextTick(callback)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>Vue 在更新 DOM 时是异步执行的。</li><li>Vue是异步执行dom更新的，一旦观察到数据变化，Vue就会开启一个队列，然后把在同一个事件循环 (event loop) 当中观察到数据变化的 watcher 推送进这个队列。如果这个watcher被触发多次，只会被推送到队列一次。这种缓冲行为可以有效的去掉重复数据造成的不必要的计算和DOm操作，等所有数据变化完成之后才会去更新dom。这样做主要是为了提升性能，因为如果在主线程中更新DOM，循环100次就要更新100次DOM；但是如果等事件循环完成之后更新DOM，只需要更新1次,减少重绘、重排提升性能。</li><li><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">nextTick是Vue提供的一个全局API,是在下次DOM更新循环结束之后执行延迟回调，在修改数据之后使用$nextTick，则可以在回调中获取更新后的DOM；</span></span>
<span class="line"><span style="color:#393a34;">Vue在更新DOM时是异步执行的。只要侦听到数据变化，Vue将开启1个队列，并缓冲在同一事件循环中发生的所有数据变更。如果同一个watcher被多次触发，只会被推入到队列中-次。这种在缓冲时去除重复数据对于避免不必要的计算和DOM操作是非常重要的。nextTick方法会在队列中加入一个回调函数，确保该函数在前面的dom操作完成后才调用；</span></span>
<span class="line"><span style="color:#393a34;">比如，我在干什么的时候就会使用nextTick，传一个回调函数进去，在里面执行dom操作即可；</span></span>
<span class="line"><span style="color:#393a34;">我也有简单了解nextTick实现，它会在callbacks里面加入我们传入的函数，然后用timerFunc异步方式调用它们，首选的异步方式会是Promise。这让我明白了为什么可以在nextTick中看到dom操作结果。</span></span>
<span class="line"><span style="color:#393a34;"></span></span>
<span class="line"><span style="color:#393a34;">在下次 DOM 更新循环结束之后执行延迟回调，在修改数据之后立即使用 nextTick 来获取更新后的 DOM。 nextTick主要使用了宏任务和微任务。 根据执行环境分别尝试采用Promise、MutationObserver、setImmediate，如果以上都不行则采用setTimeout定义了一个异步方法，多次调用nextTick会将方法存入队列中，通过这个异步方法清空当前队列。</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul><h4 id="keepalive" tabindex="-1">keepalive <a class="header-anchor" href="#keepalive" aria-label="Permalink to &quot;keepalive&quot;">​</a></h4><p>keep-alive组件用来缓存组件,避免多次加载相同的组件,减少性能消耗；将组件实例保存在内存的cache对象中，而不是直接将其销毁，它是一个抽象组件，不会被渲染到真实DOM中，也不会出现在父组件链中。缓存得都是vnode节点，created周期里 创建了一个cache这么一个缓存容器，再销毁周期里 清除这个容器。在存入之前会检测cache对象中是否已经存在该组件，如果存在则更新，如果不存在则检测是否超出最大缓存量，如果超出则删除最久未使用的组件，最终加入缓存cache对象中。</p><ol><li>activated: keep-alive组件激活时调用</li><li>deactivated: keep-alive组件停用时调用</li><li>include与exclude两个属性，允许组件有条件地进行缓存。</li><li>max属性 设置最大缓存组件数量，默认10</li></ol><h4 id="%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1" tabindex="-1">前端路由 <a class="header-anchor" href="#前端路由" aria-label="Permalink to &quot;前端路由&quot;">​</a></h4><h5 id="hash%E6%A8%A1%E5%BC%8F" tabindex="-1">hash模式 <a class="header-anchor" href="#hash模式" aria-label="Permalink to &quot;hash模式&quot;">​</a></h5><ul><li>采用锚点链接，以#开头</li><li>location.hash=&quot;#about&quot; 改变hash</li><li>window.onhahschange 检测hash变化，去渲染该hash所映射的视图组件</li><li>hash 前后两个值相同，则不会重复加入历史栈</li><li>hash 虽然出现在 <a href="https://so.csdn.net/so/search?q=URL&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">URL</a> 中，但不会被包括在 HTTP 请求中，对后端完全没有影响，因此改变 hash 不会重新加载页面。</li></ul><h5 id="history%E6%A8%A1%E5%BC%8F" tabindex="-1">history模式 <a class="header-anchor" href="#history模式" aria-label="Permalink to &quot;history模式&quot;">​</a></h5><ul><li><p>history—— 利用了 HTML5 History Interf 中新增的 pushState() 和 replaceState() 方法。 这两个方法应用于浏览器的历史记录栈，在当前已有的 back、forward、go 的基础之上，它们提供了对历史记录进行修改的功能。只是当它们执行修改时，虽然改变了当前的 URL，但浏览器不会立即向后端发送请求。</p></li><li><p>history前后两个值相同，则会重复加入历史栈</p></li><li><p>会请求后端，如果不存在会404，需要配合后端处理</p></li><li><p>切换历史状态包括<code>back</code>、<code>forward</code>、<code>go</code> 三个方法</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">在history模式下，借助history.pushState实现页面的无刷新跳转；这种方式改变了url，如果重新刷新页面会造成一个新的http请求，因此会重新请求服务器，这也使得我们必须在服务端配置好地址，否则服务端会返回404，为确保不出问题，最好在项目中配置404页面</span></span>
<span class="line"><span style="color:#393a34;"></span></span>
<span class="line"><span style="color:#393a34;">那为什么hash模式不会出现这个问题呢?</span></span>
<span class="line"><span style="color:#393a34;">上文已讲，hash虽然可以改变URL，但不会被包括在HTTP请求中。它被用来指导浏览器动作，并不影响服务器端，因此，改变hash并没有改变url，所以页面路径还是之前的路径，nginx不会拦截。 因此，切记在使用history模式时，需要服务端允许地址可访问，否则就会出现404的尴尬场景。</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#999999;">&lt;!</span><span style="color:#1E754F;">DOCTYPE</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">html</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">html</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">lang</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">en</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">head</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">meta</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">charset</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">UTF-8</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">title</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">自定义对pushState、replaceState的监听</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">title</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">head</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">body</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">button</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">onclick</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#59873A;">push</span><span style="color:#999999;">()</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">点击切换路由</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">button</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">onclick</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#59873A;">replace</span><span style="color:#999999;">()</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">点击替换路由</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#59873A;">push</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#B07D48;">history</span><span style="color:#999999;">.</span><span style="color:#59873A;">pushState</span><span style="color:#999999;">({</span><span style="color:#998418;">data</span><span style="color:#999999;">:</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">from test1</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">},</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;&quot;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">/test1</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#59873A;">replace</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#B07D48;">history</span><span style="color:#999999;">.</span><span style="color:#59873A;">replaceState</span><span style="color:#999999;">({</span><span style="color:#998418;">data</span><span style="color:#999999;">:</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">from test2</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">},</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;&quot;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">/test2</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/**</span></span>
<span class="line"><span style="color:#A0ADA0;">     * 重写history的pushState和replaceState</span></span>
<span class="line"><span style="color:#A0ADA0;">     * @param action pushState|replaceState</span></span>
<span class="line"><span style="color:#A0ADA0;">     * @return {function(): *}</span></span>
<span class="line"><span style="color:#A0ADA0;">     */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#59873A;">wrapState</span><span style="color:#999999;">(</span><span style="color:#B07D48;">action</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 获取原始定义</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">raw</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">history</span><span style="color:#999999;">[</span><span style="color:#B07D48;">action</span><span style="color:#999999;">];</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// 经过包装的pushState或replaceState</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">wrapper</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">raw</span><span style="color:#999999;">.</span><span style="color:#59873A;">apply</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">arguments</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// 定义名为action的事件</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">e</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">Event</span><span style="color:#999999;">(</span><span style="color:#B07D48;">action</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// 将调用pushState或replaceState时的参数作为stateInfo属性放到事件参数event上</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">e</span><span style="color:#999999;">.</span><span style="color:#B07D48;">stateInfo</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{...</span><span style="color:#A65E2B;">arguments</span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// 调用pushState或replaceState时触发该事件</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#59873A;">dispatchEvent</span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">wrapper</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">//修改原始定义</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">history</span><span style="color:#999999;">.</span><span style="color:#B07D48;">pushState</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">wrapState</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">pushState</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">history</span><span style="color:#999999;">.</span><span style="color:#B07D48;">replaceState</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">wrapState</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">replaceState</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 监听自定义的事件</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#59873A;">addEventListener</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">pushState</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">info</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">pushState</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span><span style="color:#B07D48;">e</span><span style="color:#999999;">.</span><span style="color:#B07D48;">stateInfo</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">window</span><span style="color:#999999;">.</span><span style="color:#59873A;">addEventListener</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">replaceState</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">info</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">replaceState</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span><span style="color:#B07D48;">e</span><span style="color:#999999;">.</span><span style="color:#B07D48;">stateInfo</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">body</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">html</span><span style="color:#999999;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div></li></ul><h4 id="%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD" tabindex="-1">路由懒加载 <a class="header-anchor" href="#路由懒加载" aria-label="Permalink to &quot;路由懒加载&quot;">​</a></h4><p>SPA 项目，一个路由对应一个页面，如果不做处理，项目打包后，会把所有页面打包成一个文件，<strong>当用户打开首页时，会一次性加载所有的资源</strong>，造成首页加载很慢，降低用户体验</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">// 通过webpackChunkName设置分割后代码块的名字</span></span>
<span class="line"><span style="color:#393a34;">const Home = () =&gt; import(/* webpackChunkName: &quot;home&quot; */ &quot;@/views/home/index.vue&quot;);</span></span>
<span class="line"><span style="color:#393a34;">const MetricGroup = () =&gt; import(/* webpackChunkName: &quot;metricGroup&quot; */ &quot;@/views/metricGroup/index.vue&quot;);</span></span>
<span class="line"><span style="color:#393a34;">…………</span></span>
<span class="line"><span style="color:#393a34;">const routes = [</span></span>
<span class="line"><span style="color:#393a34;">    {</span></span>
<span class="line"><span style="color:#393a34;">       path: &quot;/&quot;,</span></span>
<span class="line"><span style="color:#393a34;">       name: &quot;home&quot;,</span></span>
<span class="line"><span style="color:#393a34;">       component: Home</span></span>
<span class="line"><span style="color:#393a34;">    },</span></span>
<span class="line"><span style="color:#393a34;">    {</span></span>
<span class="line"><span style="color:#393a34;">       path: &quot;/metricGroup&quot;,</span></span>
<span class="line"><span style="color:#393a34;">       name: &quot;metricGroup&quot;,</span></span>
<span class="line"><span style="color:#393a34;">       component: MetricGroup</span></span>
<span class="line"><span style="color:#393a34;">    },</span></span>
<span class="line"><span style="color:#393a34;">    …………</span></span>
<span class="line"><span style="color:#393a34;"> ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>整个网页默认是刚打开就去加载所有页面，路由懒加载就是只加载你当前访问的路由资源。懒加载路由对应的资源，提高首屏加载速度</p><p>实现原理：将路由相关的组件，不再直接导入了，而是改写成异步组件的写法，只有当函数被调用的时候，才去加载对应的组件内容。</p><p>懒加载前提的实现：ES6的动态地加载模块——import()</p><p>import from 静态加载，编译时候运行，需要放在文件头部。import()动态加载，返回一个promise,调用时运行，可以放在函数中指定时候去调用</p><p>调用 import() 之处，被作为分离的模块起点，意思是，被请求的模块和它引用的所有子模块，会分离到一个单独的 chunk 中</p><p>要实现懒加载，就得先将进行懒加载的子模块分离出来，打包成一个个单独的文件，webpackChunkName 作用是 webpack 在打包的时候，对异步引入的库代码（lodash）进行代码分割时，设置代码块的名字。webpack 会将任何一个异步模块与相同的块名称组合到相同的异步块中</p><h4 id="%E7%BB%84%E4%BB%B6%E6%87%92%E5%8A%A0%E8%BD%BD%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF" tabindex="-1">组件懒加载的使用场景 <a class="header-anchor" href="#组件懒加载的使用场景" aria-label="Permalink to &quot;组件懒加载的使用场景&quot;">​</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">home 页面 和 about 页面，都引入了 dialogInfo 弹框组件，该弹框不是一进入页面就加载，而是需要用户手动触发后才展示出来</span></span>
<span class="line"><span style="color:#393a34;">项目打包后，发现 home.js 和 about.js 均包括了该弹框组件的代码（在 dist 文件中搜索dialogInfo弹框组件）</span></span>
<span class="line"><span style="color:#393a34;">懒加载：</span></span>
<span class="line"><span style="color:#393a34;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#393a34;">const dialogInfo = () =&gt; import(/* webpackChunkName: &quot;dialogInfo&quot; */ &#39;@/components/dialogInfo&#39;);</span></span>
<span class="line"><span style="color:#393a34;">export default {</span></span>
<span class="line"><span style="color:#393a34;">  name: &#39;homeView&#39;,</span></span>
<span class="line"><span style="color:#393a34;">  components: {</span></span>
<span class="line"><span style="color:#393a34;">    dialogInfo</span></span>
<span class="line"><span style="color:#393a34;">  }</span></span>
<span class="line"><span style="color:#393a34;">}</span></span>
<span class="line"><span style="color:#393a34;">&lt;/script&gt;</span></span>
<span class="line"><span style="color:#393a34;">重新打包后，home.js 和 about.js 中没有了弹框组件的代码，该组件被独立打包成 dialogInfo.js，当用户点击按钮时，才会去加载 dialogInfo.js 和 dialogInfo.css</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>有时资源拆分的过细也不好，可能会造成浏览器 http 请求的增多</p><p>总结出三种适合组件懒加载的场景：</p><p>1）该页面的 JS 文件体积大，导致页面打开慢，可以通过组件懒加载进行资源拆分，利用浏览器并行下载资源，提升下载速度（比如首页）</p><p>2）该组件不是一进入页面就展示，需要一定条件下才触发（比如弹框组件）</p><p>3）该组件复用性高，很多页面都有引入，利用组件懒加载抽离出该组件，一方面可以很好利用缓存，同时也可以减少页面的 JS 文件大小（比如表格组件、图形组件等）</p><h4 id="tree-shaking%20%E5%8E%9F%E7%90%86%EF%BC%9A" tabindex="-1">tree-shaking 原理： <a class="header-anchor" href="#tree-shaking 原理：" aria-label="Permalink to &quot;tree-shaking 原理：&quot;">​</a></h4><p>项目中只使用了 targetType 方法，但未使用 deepClone 方法，项目打包后，deepClone 方法不会被打包到项目里</p><p>tree-shaking 原理：</p><p>依赖于ES6的模块特性，ES6模块依赖关系是确定的，和运行时的状态无关，可以进行可靠的静态分析，这就是 tree-shaking 的基础</p><p>静态分析就是不需要执行代码，就可以从字面量上对代码进行分析。ES6之前的模块化，比如 CommonJS 是动态加载，只有执行后才知道引用的什么模块，就不能通过静态分析去做优化，正是基于这个基础上，才使得 tree-shaking 成为可能</p><p><strong>无法通过静态分析判断出一个对象的哪些属性和方法未被使用，所以 tree-shaking 只对使用 export 导出的变量生效，export default 没法判断</strong></p><h4 id="Composition%20API" tabindex="-1">Composition API <a class="header-anchor" href="#Composition API" aria-label="Permalink to &quot;Composition API&quot;">​</a></h4><h5 id="Options%20API%20%E7%9A%84%E9%97%AE%E9%A2%98" tabindex="-1">Options API 的问题 <a class="header-anchor" href="#Options API 的问题" aria-label="Permalink to &quot;Options API 的问题&quot;">​</a></h5><ul><li><strong>难以维护</strong>：<code>Vue2</code> 中只能固定用 <code>data</code>、<code>computed</code>、<code>methods</code> 等选项来组织代码，在组件越来越复杂的时候，一个功能相关的<code>属性</code>和<code>方法</code>就会在文件上中下到处都有，很分散，变越来越难维护</li><li><strong>不清晰的数据来源、命名冲突</strong>： <code>Vue2</code> 中虽然可以用 <code>minxins</code> 来做逻辑的提取复用，但是 <code>minxins</code>里的属性和方法名会和组件内部的命名冲突，还有当引入多个 <code>minxins</code> 的时候，我们使用的属性或方法是来于哪个 <code>minxins</code> 也不清楚</li></ul><h5 id="%E5%92%8C%20Options%20API%20%E5%8C%BA%E5%88%AB%E5%92%8C%E4%BD%9C%E7%94%A8" tabindex="-1">和 Options API 区别和作用 <a class="header-anchor" href="#和 Options API 区别和作用" aria-label="Permalink to &quot;和 Options API 区别和作用&quot;">​</a></h5><ul><li><strong>更灵活的代码组织</strong>：<code>Composition API</code> 是基于逻辑相关性组织代码的，将零散分布的逻辑组合在一起进行维护，也可以将单独的功能逻辑拆分成单独的文件；提高可读性和可维护性。</li><li><strong>更好的逻辑复用</strong>：解决了过去 <code>Options API</code> 中 <code>mixins</code> 的各种缺点；</li><li><strong>同时兼容<code>Options API</code></strong>；</li><li><strong>更好的类型推导</strong>：<code>组合式 API</code>主要利用基本的变量和函数，它们本身就是类型友好的。用<code>组合式 API</code>重写的代码可以享受到完整的类型推导</li></ul><h5 id="Composition%20API%20%E5%91%BD%E5%90%8D%E5%86%B2%E7%AA%81" tabindex="-1">Composition API 命名冲突 <a class="header-anchor" href="#Composition API 命名冲突" aria-label="Permalink to &quot;Composition API 命名冲突&quot;">​</a></h5><p>在使用组合式<code>API</code>时，可以通过在解构变量时对变量进行<code>重命名</code>来避免相同的键名</p><h4 id="webpackChunkName%E7%9A%84%E4%BD%9C%E7%94%A8" tabindex="-1">webpackChunkName的作用 <a class="header-anchor" href="#webpackChunkName的作用" aria-label="Permalink to &quot;webpackChunkName的作用&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#59873A;">import</span><span style="color:#999999;">(</span><span style="color:#A0ADA0;">/* webpackChunkName: &#39;ImportFuncDemo&#39; */</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@/components/home</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#59873A;">import</span><span style="color:#999999;">(</span><span style="color:#A0ADA0;">/* webpackChunkName: &#39;ImportFuncDemo&#39; */</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@/components/index</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>webpackChunkName的值相同的组件会被webpack打包在一个js文件中 webpackChunkName的值不相同的组件会被webpack打包在不同的js文件中</p><h4 id="computed%E3%80%81watch%E5%8C%BA%E5%88%AB" tabindex="-1">computed、watch区别 <a class="header-anchor" href="#computed、watch区别" aria-label="Permalink to &quot;computed、watch区别&quot;">​</a></h4><p>computed</p><ul><li>根据其属性依赖进行计算，依赖变化则自动重新计算</li><li>computed会被缓存，依赖不变，直接读取缓存</li><li>不能进行异步处理</li><li>它可以设置 getter 和 setter。</li></ul><p>watch</p><ul><li>监测属性的变化，执行回调，接受变化前后的值为参数</li><li>可以处理异步</li><li>默认初始化不执行，需配置</li></ul><h4 id="%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86" tabindex="-1">响应式原理 <a class="header-anchor" href="#响应式原理" aria-label="Permalink to &quot;响应式原理&quot;">​</a></h4><ul><li><p>vue是采用数据劫持配合发布者-订阅者模式的方式,通过0bject.definerProperty()来劫持各个属性的setter和getter,为每个属性创建一个Dep对象，在其内部的subs数组(依赖收集器)中存储依赖该属性的所有Watcher，在数据变动时,就会被setter拦截，此时发布消息给依赖收集器,去通知每个观察者Watcher,做出对应的回调函数update,去更新视图</p></li><li><p>MVVM作为绑定的入口,整合Observer,Compile和Watcher三者,通过Observer来监听model数据变化,通过Compile来解析编译模板指令,最终利用Watcher搭起Observer,Compile之间的通信桥梁,达到数据变化=&gt;视图更新;视图交互变化=→&gt;数据model变更的双向绑定效果</p></li><li><p>注意：beforecreated之后 created之前进行响应式数据的劫持；beforemount之后mounted之前,组件会调用render函数，在此期间Compile解析模板，在遇到依赖属性时，会将他们作为该属性的一个Watcher，放入该属性的依赖收集器中，并向该属性添加一个update方法用于更新视图</p></li></ul><h4 id="Object.defineProperty%E4%B8%8EProxy" tabindex="-1">Object.defineProperty与Proxy <a class="header-anchor" href="#Object.defineProperty与Proxy" aria-label="Permalink to &quot;Object.defineProperty与Proxy&quot;">​</a></h4><p><strong>Proxy</strong></p><ul><li>Proxy可以直接监听对象而非属性，</li><li>Proxy可以直接监听数组的变化，Proxy直接实现对象属性的新增/删除</li><li>Proxy有多达13种拦截方法,不限于apply、ownKeys、deleteProperty、has等等是Object.defineProperty不具备的</li><li>Proxy返回的是一个新对象,我们可以只操作新的对象达到目的,不需要像Object.defineProperty一样遍历每个属性有一定的性能提升</li><li>Proxy作为新标准将受到浏览器厂商重点持续的性能优化，也就是传说中的新标准的性能红利</li></ul><p><strong>Object.defineProperty</strong></p><ul><li>Object.defineProperty只能劫持对象的属性，需要遍历对象的每一个属性，如果属性值也是对象，就需要递归进行深度遍历。</li><li>Object.defineProperty劫持的是对象的属性，所以新增属性时，需要重新遍历对象， 对其新增属性再次使用Object.defineProperty进行劫持。也就是Vue2.x中给数组和对象新增属性时，需要使用$set才能保证新增的属性也是响应式的, $set内部也是通过调用Object.defineProperty去处理的。</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#A0ADA0;">//Proxy实现数据劫持</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#59873A;">observe</span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">that</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">handler</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#59873A;">get</span><span style="color:#999999;">(</span><span style="color:#B07D48;">target</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">property</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">target</span><span style="color:#999999;">[</span><span style="color:#B07D48;">property</span><span style="color:#999999;">];</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">set</span><span style="color:#999999;">(</span><span style="color:#B07D48;">target</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">key</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">value</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Reflect</span><span style="color:#999999;">.</span><span style="color:#59873A;">set</span><span style="color:#999999;">(</span><span style="color:#B07D48;">target</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">key</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">value</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B07D48;">that</span><span style="color:#999999;">.</span><span style="color:#B07D48;">subscribe</span><span style="color:#999999;">[</span><span style="color:#B07D48;">key</span><span style="color:#999999;">].</span><span style="color:#59873A;">map</span><span style="color:#999999;">(</span><span style="color:#B07D48;">item</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#59873A;">update</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$data</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">Proxy</span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">handler</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%AA%E5%AF%B9%E5%AF%B9%E8%B1%A1%E5%8A%AB%E6%8C%81%EF%BC%8C%E8%80%8C%E8%A6%81%E5%AF%B9%E6%95%B0%E7%BB%84%E8%BF%9B%E8%A1%8C%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99%EF%BC%9F" tabindex="-1">为什么只对对象劫持，而要对数组进行方法重写？ <a class="header-anchor" href="#为什么只对对象劫持，而要对数组进行方法重写？" aria-label="Permalink to &quot;为什么只对对象劫持，而要对数组进行方法重写？&quot;">​</a></h4><p>因为对象最多也就几十个属性，拦截起来数量不多，但是数组可能会有几百几千项，拦截起来非常耗性能，所以直接重写数组原型上的方法，是比较节省性能的方案</p><h4 id="Vue.set%E6%96%B9%E6%B3%95%E7%9A%84%E5%8E%9F%E7%90%86" tabindex="-1">Vue.set方法的原理 <a class="header-anchor" href="#Vue.set方法的原理" aria-label="Permalink to &quot;Vue.set方法的原理&quot;">​</a></h4><p>首先，判断在非生产环境，传入的target如果是undefined、null或是原始类型，则直接跑出错误。</p><p>其次，如果判断target如果是个数组，并且key是索引的话，那么就取当前数组长度与key这两者的最大值作为数组的新长度，然后使用数组的splice方法将传入的索引key对应的val值添加进数组。Array类型数据的变化侦测方式时说过，数组的splice方法已经被我们创建的拦截器重写了，也就是说，当使用splice方法向数组内添加元素时，该元素会自动被变成响应式的。</p><p>接下来，如果传入的target不是数组，那就当作是对象来处理。首先判断传入的key是否已经存在于target中，如果存在，表明这次操作不是新增属性，而是对已有的属性进行简单的修改值，那么就只修改属性值即可，接下来获取到traget的__ob__属性，我们说过，该属性是否为true标志着target是否为响应式对象，接着判断如果tragte是 Vue 实例，或者是 Vue 实例的根数据对象，则抛出警告并退出程序，接着判断如果ob属性为false，那么表明target不是一个响应式对象，那么我们只需简单给它添加上新的属性，不用将新属性转化成响应式，最后，如果target是对象，并且是响应式，那么就调用defineReactive方法将新属性值添加到target上，defineReactive方会将新属性添加完之后并将其转化成响应式，最后通知依赖更新。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#59873A;">set</span><span style="color:#999999;">(</span><span style="color:#B07D48;">target</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">key</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">val</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 判断是否是数组</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">Array</span><span style="color:#999999;">.</span><span style="color:#59873A;">isArray</span><span style="color:#999999;">(</span><span style="color:#B07D48;">target</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 判断谁大谁小</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">target</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Math</span><span style="color:#999999;">.</span><span style="color:#59873A;">max</span><span style="color:#999999;">(</span><span style="color:#B07D48;">target</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">key</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 执行splice</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">target</span><span style="color:#999999;">.</span><span style="color:#59873A;">splice</span><span style="color:#999999;">(</span><span style="color:#B07D48;">key</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">val</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">val</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ob</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">target</span><span style="color:#999999;">.</span><span style="color:#B07D48;">__ob__</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 如果此对象没有不是响应式对象，直接设置并返回</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">key</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">in</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">target</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!</span><span style="color:#999999;">(</span><span style="color:#B07D48;">key</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">in</span><span style="color:#393A34;"> </span><span style="color:#998418;">target</span><span style="color:#999999;">.</span><span style="color:#998418;">prototype</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">||</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!</span><span style="color:#B07D48;">ob</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">target</span><span style="color:#999999;">[</span><span style="color:#B07D48;">key</span><span style="color:#999999;">]</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">val</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">val</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 否则，新增属性，并响应式处理</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">defineReactive</span><span style="color:#999999;">(</span><span style="color:#B07D48;">target</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">key</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">val</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">val</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="Vue.delete%E6%96%B9%E6%B3%95%E7%9A%84%E5%8E%9F%E7%90%86%EF%BC%9F" tabindex="-1">Vue.delete方法的原理？ <a class="header-anchor" href="#Vue.delete方法的原理？" aria-label="Permalink to &quot;Vue.delete方法的原理？&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#59873A;">del</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">target</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">key</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 判断是否为数组</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">Array</span><span style="color:#999999;">.</span><span style="color:#59873A;">isArray</span><span style="color:#999999;">(</span><span style="color:#B07D48;">target</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 执行splice</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">target</span><span style="color:#999999;">.</span><span style="color:#59873A;">splice</span><span style="color:#999999;">(</span><span style="color:#B07D48;">key</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">return</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ob</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">target</span><span style="color:#999999;">.</span><span style="color:#B07D48;">__ob__</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 对象本身就没有这个属性，直接返回</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">!</span><span style="color:#999999;">(</span><span style="color:#B07D48;">key</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">in</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">target</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">return</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 否则，删除这个属性</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">delete</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">target</span><span style="color:#999999;">[</span><span style="color:#B07D48;">key</span><span style="color:#999999;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 判断是否是响应式对象，不是的话，直接返回</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">!</span><span style="color:#B07D48;">ob</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">return</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 是的话，删除后要通知视图更新</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">ob</span><span style="color:#999999;">.</span><span style="color:#B07D48;">dep</span><span style="color:#999999;">.</span><span style="color:#59873A;">notify</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="computed%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%BC%A0%E5%8F%82%EF%BC%9F" tabindex="-1">computed如何实现传参？ <a class="header-anchor" href="#computed如何实现传参？" aria-label="Permalink to &quot;computed如何实现传参？&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">h1</span><span style="color:#999999;">&gt;{{</span><span style="color:#393A34;"> </span><span style="color:#59873A;">total</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">name</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">}}&lt;</span><span style="color:#1E754F;">h1</span><span style="color:#999999;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">computed: </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">total</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">      return </span><span style="color:#59873A;">function</span><span style="color:#999999;">(</span><span style="color:#B07D48;">name</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">name</span><span style="color:#AB5959;">+</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;"> hahahah</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#393A34;">         </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="vue%20Hook" tabindex="-1"><span id="vue%Hook">vue Hook</span> <a class="header-anchor" href="#vue Hook" aria-label="Permalink to &quot;&lt;span id=&quot;vue%Hook&quot;&gt;vue Hook&lt;/span&gt;&quot;">​</a></h4><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393A34;">//父组件</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">child</span><span style="color:#393A34;"> </span><span style="color:#999999;">@</span><span style="color:#59873A;">hook</span><span style="color:#999999;">:</span><span style="color:#59873A;">created</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B07D48;">handle</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">/&gt;</span><span style="color:#393A34;">   //在父组件中 向子组件的生命周期  v3=&gt; vnode-created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">//js</span></span>
<span class="line"><span style="color:#393A34;">method () {</span></span>
<span class="line"><span style="color:#393A34;">  handle() {</span></span>
<span class="line"><span style="color:#393A34;">    ...</span></span>
<span class="line"><span style="color:#393A34;">  }</span></span>
<span class="line"><span style="color:#393A34;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="provide%E5%92%8Cinject%E6%98%AF%E5%93%8D%E5%BA%94%E5%BC%8F%E7%9A%84%E5%90%97%EF%BC%9F" tabindex="-1">provide和inject是响应式的吗？ <a class="header-anchor" href="#provide和inject是响应式的吗？" aria-label="Permalink to &quot;provide和inject是响应式的吗？&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#A0ADA0;">// 祖先组件</span></span>
<span class="line"><span style="color:#59873A;">provide</span><span style="color:#999999;">(){</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">   </span><span style="color:#A0ADA0;">// keyName: { name: this.name }, // value 是对象才能实现响应式，也就是引用类型</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#59873A;">keyName</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">()=&gt;</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">name</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 通过函数的方式也可以[注意，这里是把函数作为value，而不是this.changeValue()]</span></span>
<span class="line"><span style="color:#999999;">   </span><span style="color:#A0ADA0;">// keyName: &#39;test&#39; value 如果是基本类型，就无法实现响应式</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#59873A;">data</span><span style="color:#999999;">(){</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">张三</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#393A34;">  </span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 后代组件</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">inject</span><span style="color:#999999;">:[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">keyName</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">create</span><span style="color:#999999;">(){</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">keyName</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 改变后的名字-李四</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>vue3</p><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393A34;">const name=ref(&#39;zzz&#39;) </span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">provide: {</span></span>
<span class="line"><span style="color:#393A34;">    user: computed(()=&gt;name)  //传递一个计算属性 也是响应式的</span></span>
<span class="line"><span style="color:#393A34;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="%E5%8A%A8%E6%80%81%E6%8C%87%E4%BB%A4%E5%92%8C%E5%8F%82%E6%95%B0" tabindex="-1">动态指令和参数 <a class="header-anchor" href="#动态指令和参数" aria-label="Permalink to &quot;动态指令和参数&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    ...</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#998418;">aButton</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">@[someEvent]=&quot;handleSomeEvent()&quot;</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">:[someProps]=&quot;1000&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span><span style="color:#393A34;">...</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  ...</span></span>
<span class="line"><span style="color:#393A34;">  data()</span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">return</span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">...</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B07D48;">someEvent</span><span style="color:#393A34;">: </span><span style="color:#B07D48;">someCondition</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">click</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">dbclick</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#998418;">someProps</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">someCondition</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">num</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">price</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">  methods: </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">handleSomeEvent</span><span style="color:#999999;">(){</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// handle some event</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span><span style="color:#393A34;">  </span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="v-no%E7%BB%91%E5%AE%9A%E5%A4%9A%E4%B8%AA%E4%BA%8B%E4%BB%B6" tabindex="-1">v-no绑定多个事件 <a class="header-anchor" href="#v-no绑定多个事件" aria-label="Permalink to &quot;v-no绑定多个事件&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">input</span><span style="color:#999999;"> </span><span style="color:#B07D48;">type</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">text</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">v-on</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">{ input:onInput,focus:onFocus,blur:onBlur}</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">//可以正常执行不同方法</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-on</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">{ mousedown:onInput,mouseup:onFocus,mouseenter:onBlur}</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">盒子</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">//可以正常执行不同方法</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-on</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">{click:onInput,click:onFocus,click:onBlur}</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">盒子</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">//绑定多个相同事件，只执行最后一个方法</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">@click</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">{onInput,onFocus,onBlur}</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">盒子</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;"> //这样绑定无效</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="%E7%9B%B8%E5%90%8C%E7%9A%84%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E5%A6%82%E4%BD%95%E9%87%8D%E6%96%B0%E6%B8%B2%E6%9F%93%EF%BC%9F" tabindex="-1">相同的路由组件如何重新渲染？ <a class="header-anchor" href="#相同的路由组件如何重新渲染？" aria-label="Permalink to &quot;相同的路由组件如何重新渲染？&quot;">​</a></h4><blockquote><p>开发人员经常遇到的情况是，多个路由解析为同一个Vue组件。问题是，Vue出于性能原因，默认情况下共享组件将不会重新渲染，如果你尝试在使用相同组件的路由之间进行切换，则不会发生任何变化。</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">routes</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">path</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">/a</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">component</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">MyComponent</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">path</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">/b</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">component</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">MyComponent</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">];</span></span>
<span class="line"><span style="color:#B07D48;">复制代码</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>如果依然想重新渲染，怎么办呢？可以使用<code>key</code></p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#998418;">router-view</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">:key=&quot;$route.path&quot;&gt;&lt;/router-view&gt;</span></span>
<span class="line"><span style="color:#B31D28;font-style:italic;">&lt;/template&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="MVC%E3%80%81MVVM" tabindex="-1">MVC、MVVM <a class="header-anchor" href="#MVC、MVVM" aria-label="Permalink to &quot;MVC、MVVM&quot;">​</a></h4><p>MVC 的思想：</p><ul><li><p>**Model（模型）**是应用程序中用于处理应用程序数据逻辑的部分。 　　通常模型对象负责在数据库中存取数据。</p><p>**View（视图）**是应用程序中处理数据显示的部分。 　　通常视图是依据模型数据创建的。</p><p>**Controller（控制器）**是应用程序中处理用户交互的部分。 　　通常控制器负责从视图读取数据交给view，控制用户输入，并向模型发送数据。</p></li></ul><p>mvc中大量的DOM 操作使页面渲染性能降低，加载速度变慢，影响用户体验</p><p>MVVM ：</p><ul><li>MVVM 与 MVC 最大的区别就是：它实现了 View 和 Model 的自动同步，也就是当 Model 的属性改变时，我们不用再自己手动操作 Dom 元素，来改变 View 的显示，而是改变属性后该属性对应 View 层显示会自动改变（对应Vue数据驱动的思想）</li><li>整体看来，MVVM 比 MVC 精简很多，不仅简化了业务与界面的依赖，还解决了数据频繁更新的问题，不用再用选择器操作 DOM 元素。因为在 MVVM 中，View 不知道 Model 的存在，Model 和 ViewModel 也观察不到 View，这种低耦合模式提高代码的可重用性</li></ul><h4 id="%E4%B8%BA%E4%BB%80%E4%B9%88%20data%20%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0" tabindex="-1">为什么 data 是一个函数 <a class="header-anchor" href="#为什么 data 是一个函数" aria-label="Permalink to &quot;为什么 data 是一个函数&quot;">​</a></h4><p>组件中的 data 写成一个函数，数据以函数返回值形式定义，这样每复用一次组件，就会返回一份新的 data，类似于给每个组件实例创建一个私有的数据空间，让各个组件实例维护各自的数据。而单纯的写成对象形式，就使得所有组件实例共用了一份 data，就会造成一个变了全都会变的结果</p><h4 id="computed" tabindex="-1">computed <a class="header-anchor" href="#computed" aria-label="Permalink to &quot;computed&quot;">​</a></h4><p><a href="https://juejin.cn/post/7008715822881325070" target="_blank" rel="noreferrer">vue-computed（原理篇） - 掘金 (juejin.cn)</a></p><h4 id="%E4%B8%BA%E4%BB%80%E4%B9%88v-for%E5%92%8Cv-if%E4%B8%8D%E5%BB%BA%E8%AE%AE%E7%94%A8%E5%9C%A8%E4%B8%80%E8%B5%B7" tabindex="-1">为什么v-for和v-if不建议用在一起 <a class="header-anchor" href="#为什么v-for和v-if不建议用在一起" aria-label="Permalink to &quot;为什么v-for和v-if不建议用在一起&quot;">​</a></h4><p>1.当 v-for 和 v-if 处于同一个节点时，v-for 的优先级比 v-if 更高，这意味着 v-if 将分别重复运行于每个 v-for 循环中。如果要遍历的数组很大，而真正要展示的数据很少时，这将造成很大的性能浪费（Vue2.x） 2.这种场景建议使用 computed，先对数据进行过滤</p><p>注意：3.x 版本中 <code>v-if</code> 总是优先于 <code>v-for</code> 生效。由于语法上存在歧义，建议避免在同一元素上同时使用两者。比起在模板层面管理相关逻辑，更好的办法是通过创建计算属性筛选出列表，并以此创建可见元素。</p><h4 id="%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" tabindex="-1">生命周期 <a class="header-anchor" href="#生命周期" aria-label="Permalink to &quot;生命周期&quot;">​</a></h4><p>必看：<a href="https://juejin.cn/post/7081436617788882975" target="_blank" rel="noreferrer">https://juejin.cn/post/7081436617788882975</a></p><p>从官网的生命周期图和源码看，可以大致将vue的生命周期分为4个阶段，分别是初始化阶段，模板编译阶段，挂载阶段，销毁阶段。</p><ul><li>初始化阶段：为vue实例初始化属性、事件、数据观测等。</li><li>模板编译阶段：将模板字符串编译成渲染函数。（该阶段在runtime版本中不存在，因为已经编译好了。）</li><li>挂载阶段：将vue实例挂载到指定dom上，即将模板渲染到真实dom中。</li><li>销毁阶段：解绑指令，移除事件监听器，销毁子实例。</li></ul><p>与vue生命周期密切相关的钩子函数有beforeCreate，created，beforeMount，mounted，beforeUpdate，updated，beforeDestroy，destroyed。 vue的api文档上，一共有11个和生命周期有关的钩子函数，另外三个分别是activated，deactivated，最后一个是vue2.5.0新增的，叫errorCaptured。</p><table><thead><tr><th style="text-align:left;">生命周期钩子</th><th style="text-align:left;">详细</th></tr></thead><tbody><tr><td style="text-align:left;">beforeCreate</td><td style="text-align:left;">在实例初始化之后，数据观测(data observer) 和 event/watcher 事件配置之前被调用。</td></tr><tr><td style="text-align:left;">created</td><td style="text-align:left;">实例已经创建完成之后被调用。在这一步，实例已完成以下的配置：数据观测(data observer)，属性和方法的运算， watch/event 事件回调。在执行data()方法前props属性有数据已经可以访问，watch和computed<a href="https://so.csdn.net/so/search?q=%E7%9B%91%E5%90%AC&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">监听</a>函数此时为null，此时this.computed里的计算属性值为undefined。data函数执行完后，watch和computed监听函数才可用，因为data函数执行完后，data函数return的属性这时才可用。然而，挂载阶段还没开始，$el 属性目前不可见。</td></tr><tr><td style="text-align:left;">beforeMount</td><td style="text-align:left;">在挂载开始之前被调用：相关的 render 函数首次被调用。</td></tr><tr><td style="text-align:left;">mounted</td><td style="text-align:left;">el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子。</td></tr><tr><td style="text-align:left;">beforeUpdate</td><td style="text-align:left;">数据更新时调用，发生在虚拟 DOM 重新渲染和打补丁之前。你可以在这个钩子中进一步地更改状态，这不会触发附加的重渲染过程。</td></tr><tr><td style="text-align:left;">updated</td><td style="text-align:left;">由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。</td></tr><tr><td style="text-align:left;">activated</td><td style="text-align:left;">keep-alive 组件激活时调用。</td></tr><tr><td style="text-align:left;">deactivated</td><td style="text-align:left;">keep-alive 组件停用时调用。</td></tr><tr><td style="text-align:left;">beforeDestroy</td><td style="text-align:left;">实例销毁之前调用。在这一步，实例仍然完全可用。</td></tr></tbody></table><h4 id="Vue%20%E7%9A%84%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F" tabindex="-1">Vue 的父子组件生命周期钩子函数执行顺序 <a class="header-anchor" href="#Vue 的父子组件生命周期钩子函数执行顺序" aria-label="Permalink to &quot;Vue 的父子组件生命周期钩子函数执行顺序&quot;">​</a></h4><ul><li>加载渲染过程</li></ul><p>父 beforeCreate-&gt;父 created-&gt;父 beforeMount-&gt;子 beforeCreate-&gt;子 created-&gt;子 beforeMount-&gt;子 mounted-&gt;父 mounted</p><ul><li>子组件更新过程</li></ul><p>父 beforeUpdate-&gt;子 beforeUpdate-&gt;子 updated-&gt;父 updated</p><ul><li>父组件更新过程</li></ul><p>父 beforeUpdate-&gt;父 updated</p><ul><li>销毁过程</li></ul><p>父 beforeDestroy-&gt;子 beforeDestroy-&gt;子 destroyed-&gt;父 destroyed</p><h4 id="%E8%99%9A%E6%8B%9F%20DOM%20%E6%98%AF%E4%BB%80%E4%B9%88%20%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%BC%BA%E7%82%B9" tabindex="-1">虚拟 DOM 是什么 有什么优缺点 <a class="header-anchor" href="#虚拟 DOM 是什么 有什么优缺点" aria-label="Permalink to &quot;虚拟 DOM 是什么 有什么优缺点&quot;">​</a></h4><p><strong>虚拟dom 并不能保障性能，它的价值在于研发体验和效率，实现很好的跨平台，同一套虚拟dom可以对接不同平台的渲染逻辑</strong></p><p><strong>它在性能方面的优化主要是差量更新、批量更新</strong></p><p>由于在浏览器中操作 DOM 是很昂贵的。频繁的操作 DOM，会产生一定的性能问题。这就是虚拟 Dom 的产生原因。Vue2 的 Virtual DOM 借鉴了开源库 snabbdom 的实现·。Virtual DOM 本质就是用一个原生的 JS 对象去描述一个 DOM 节点，是对真实 DOM 的一层抽象。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">虚拟DOM的作用是什么？</span></span>
<span class="line"><span style="color:#393a34;">兼容性好。因为Vnode本质是JS对象，所以不管Node还是浏览器环境，都可以操作；</span></span>
<span class="line"><span style="color:#393a34;">减少了对Dom的操作。页面中的数据和状态变化，都通过Vnode对比，只需要在比对完之后【差量更新】DOM，在小范围数据更改时候，可以提高了页面性能，但大量数据修改，js也是非常耗时，此时dom更新与原生跟新差距不大，也不存在性能提升；</span></span>
<span class="line"><span style="color:#393a34;">虚拟DOM和真实DOM的区别？</span></span>
<span class="line"><span style="color:#393a34;">说到这里，那么虚拟DOM和真实DOM的区别是什么呢？总结大概如下：</span></span>
<span class="line"><span style="color:#393a34;"></span></span>
<span class="line"><span style="color:#393a34;">虚拟DOM减少了重绘和重排；</span></span>
<span class="line"><span style="color:#393a34;">真实DOM在频繁操作时引发的重绘和重排导致性能很低；</span></span>
<span class="line"><span style="color:#393a34;">虚拟DOM频繁修改，然后一次性对比差异并修改真实DOM，最后【批量更新】进行一次性重绘和重排，减少了真实DOM中多次重绘和重排引起的性能损耗；</span></span>
<span class="line"><span style="color:#393a34;">虚拟DOM有效降低大面积的重绘和重排，因为是和真实DOM对比，更新差异部分，所以只渲染局部；</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>优点：</strong></p><ol><li>保证性能下限： 框架的虚拟 DOM 需要适配任何上层 API 可能产生的操作，它的一些 DOM 操作的实现必须是普适的，所以它的性能并不是最优的；但是比起粗暴的 DOM 操作性能要好很多，因此框架的虚拟 DOM 至少可以保证在你不需要手动优化的情况下，依然可以提供还不错的性能，即保证性能的下限；</li><li>无需手动操作 DOM： 我们不再需要手动去操作 DOM，只需要写好 View-Model 的代码逻辑，框架会根据虚拟 DOM 和 数据双向绑定，帮我们以可预期的方式更新视图，极大提高我们的开发效率；</li><li>跨平台： 虚拟 DOM 本质上是 JavaScript 对象,而 DOM 与平台强相关，相比之下虚拟 DOM 可以进行更方便地跨平台操作，例如服务器渲染、weex 开发等等。</li><li>更新更快 V8---》js 相对dom快，<strong>大量 DOM计算时候并不能保障性能</strong></li></ol><p><strong>缺点:</strong></p><ol><li>无法进行极致优化： 虽然虚拟 DOM + 合理的优化，足以应对绝大部分应用的性能需求，但在一些性能要求极高的应用中虚拟 DOM 无法进行针对性的极致优化。</li><li>首次渲染大量 DOM 时，由于多了一层虚拟 DOM 的计算，会比 innerHTML 插入慢。</li></ol><h4 id="Diff%E7%AE%97%E6%B3%95" tabindex="-1">Diff算法 <a class="header-anchor" href="#Diff算法" aria-label="Permalink to &quot;Diff算法&quot;">​</a></h4><ul><li><p>在js中,渲染真实<code>DOM</code>的开销是非常大的, 比如我们修改了某个数据,如果直接渲染到真实<code>DOM</code>, 会引起整个<code>dom</code>树的重绘和重排。那么有没有可能实现只更新我们修改的那一小块dom而不要更新整个<code>dom</code>呢？此时我们就需要先根据真实<code>dom</code>生成虚拟<code>dom</code>， 当虚拟<code>dom</code>某个节点的数据改变后会生成有一个新的<code>Vnode</code>, 然后新的<code>Vnode</code>和旧的<code>Vnode</code>作比较，发现有不一样的地方就直接修改在真实DOM上，然后使旧的<code>Vnode</code>的值为新的<code>Vnode</code>。</p></li><li><p>diff过程</p><ol><li><p>进行同层比较。首先通过snameVode()去比较新旧vnode是否相似，在内部主要通过比较key、tag来判断。如果不相似，则以newVnode为基准去更新真实dom,如果相似则进行data比较包含style\attris\event等，如果属性不一致则调用对应的update方法去更新。</p></li><li><p>然后通过patchVnode进行子节点比较，判断newVnode是否有text,如果有text则再去判断oldVnode text 与newVnode text是否一致，如果不一致则以newVnode text去更新;</p></li><li><p>如果没有text则去判断是newVnode否有chidren,如果没有children，oldVnode有children,则说明删除;如果newVnode有childrem,oldVnode没有children则表示增加；如果都有children则去进行updateChildren()</p></li><li><p>updateChildren(),会对oldVnode_children、newVnode_children、的每个节点进行索引编号，然后进行头头、尾尾、头尾、尾头比较，通过snameVnode()判断新旧节点是否相似,如果相似则调用patchVnode(),然后对应的索引向前或者向后推移，直至有一方startIndex&gt;endIndex结束；如果四种比较都没有成功，则会进行key比较<strong>patchKeyedChildren</strong>，/ 尝试在oldChildren中寻找和newStartVnode的具有相同的key的Vnode,如果key相同则再去比较tag,如果两者都相等则patchVnode(),否则直接newVnode更新。,如果没有Key相同的节点直接更新</p></li><li><p>当新旧Vnode list中有一方的 endIndex&gt;startIndex,则标识已经有一方已经对比完，这时需要取创建 newVnode 中star--end所有节点</p></li><li><p>旧节点遍历完还有新节点就新增新节点；</p></li><li><p>新节点遍历完还有旧节点就移除旧节点；</p></li><li><p><a href="https://blog.csdn.net/weixin_43638968/article/details/112686317" target="_blank" rel="noreferrer">https://blog.csdn.net/weixin_43638968/article/details/112686317</a></p></li><li><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light has-diff"><code><span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#59873A;">updateChildren</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">parentElm</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newCh</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">insertedVnodeQueue</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">removeOnly</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldStartIdx</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 旧头索引</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newStartIdx</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 新头索引</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldEndIdx</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 旧尾索引</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newEndIdx</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newCh</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 新尾索引</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">[</span><span style="color:#2F798A;">0</span><span style="color:#999999;">]</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// oldVnode的第一个child</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">[</span><span style="color:#B07D48;">oldEndIdx</span><span style="color:#999999;">]</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// oldVnode的最后一个child</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newStartVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newCh</span><span style="color:#999999;">[</span><span style="color:#2F798A;">0</span><span style="color:#999999;">]</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// newVnode的第一个child</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newEndVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newCh</span><span style="color:#999999;">[</span><span style="color:#B07D48;">newEndIdx</span><span style="color:#999999;">]</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// newVnode的最后一个child</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldKeyToIdx</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">idxInOld</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">vnodeToMove</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">refElm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// removeOnly is a special flag used only by &lt;transition-group&gt;</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// to ensure removed elements stay in correct relative positions</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// during leaving transitions</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">canMove</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!</span><span style="color:#B07D48;">removeOnly</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 如果oldStartVnode和oldEndVnode重合，并且新的也都重合了，证明diff完了，循环结束</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">while</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldStartIdx</span><span style="color:#393A34;"> </span><span style="color:#999999;">&lt;=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldEndIdx</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newStartIdx</span><span style="color:#393A34;"> </span><span style="color:#999999;">&lt;=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newEndIdx</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 如果oldVnode的第一个child不存在</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#59873A;">isUndef</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// oldStart索引右移</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">++</span><span style="color:#B07D48;">oldStartIdx</span><span style="color:#999999;">]</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// Vnode has been moved left</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 如果oldVnode的最后一个child不存在</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#59873A;">isUndef</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// oldEnd索引左移</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">--</span><span style="color:#B07D48;">oldEndIdx</span><span style="color:#999999;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// oldStartVnode和newStartVnode是同一个节点</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#59873A;">sameVnode</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// patch oldStartVnode和newStartVnode， 索引左移，继续循环</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">patchVnode</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">insertedVnodeQueue</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">++</span><span style="color:#B07D48;">oldStartIdx</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">newStartVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">++</span><span style="color:#B07D48;">newStartIdx</span><span style="color:#999999;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// oldEndVnode和newEndVnode是同一个节点</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#59873A;">sameVnode</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newEndVnode</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// patch oldEndVnode和newEndVnode，索引右移，继续循环</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">patchVnode</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newEndVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">insertedVnodeQueue</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">--</span><span style="color:#B07D48;">oldEndIdx</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">newEndVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">--</span><span style="color:#B07D48;">newEndIdx</span><span style="color:#999999;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// oldStartVnode和newEndVnode是同一个节点</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#59873A;">sameVnode</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newEndVnode</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// Vnode moved right</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// patch oldStartVnode和newEndVnode</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">patchVnode</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newEndVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">insertedVnodeQueue</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 如果removeOnly是false，则将oldStartVnode.eml移动到oldEndVnode.elm之后</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">canMove</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">nodeOps</span><span style="color:#999999;">.</span><span style="color:#59873A;">insertBefore</span><span style="color:#999999;">(</span><span style="color:#B07D48;">parentElm</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#999999;">.</span><span style="color:#B07D48;">elm</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">nodeOps</span><span style="color:#999999;">.</span><span style="color:#59873A;">nextSibling</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#999999;">.</span><span style="color:#B07D48;">elm</span><span style="color:#999999;">))</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// oldStart索引右移，newEnd索引左移</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">++</span><span style="color:#B07D48;">oldStartIdx</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">newEndVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">--</span><span style="color:#B07D48;">newEndIdx</span><span style="color:#999999;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 如果oldEndVnode和newStartVnode是同一个节点</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#59873A;">sameVnode</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// Vnode moved left</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// patch oldEndVnode和newStartVnode</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">patchVnode</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">insertedVnodeQueue</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 如果removeOnly是false，则将oldEndVnode.elm移动到oldStartVnode.elm之前</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">canMove</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">nodeOps</span><span style="color:#999999;">.</span><span style="color:#59873A;">insertBefore</span><span style="color:#999999;">(</span><span style="color:#B07D48;">parentElm</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#999999;">.</span><span style="color:#B07D48;">elm</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#999999;">.</span><span style="color:#B07D48;">elm</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// oldEnd索引左移，newStart索引右移</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">oldEndVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">--</span><span style="color:#B07D48;">oldEndIdx</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">newStartVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">++</span><span style="color:#B07D48;">newStartIdx</span><span style="color:#999999;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 如果都不匹配</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#59873A;">isUndef</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldKeyToIdx</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldKeyToIdx</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">createKeyToOldIdx</span><span style="color:#999999;">(</span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldStartIdx</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldEndIdx</span><span style="color:#999999;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 尝试在oldChildren中寻找和newStartVnode的具有相同的key的Vnode</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">idxInOld</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">isDef</span><span style="color:#999999;">(</span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">.</span><span style="color:#B07D48;">key</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldKeyToIdx</span><span style="color:#999999;">[</span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">.</span><span style="color:#B07D48;">key</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#59873A;">findIdxInOld</span><span style="color:#999999;">(</span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldStartIdx</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldEndIdx</span><span style="color:#999999;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 如果未找到，说明newStartVnode是一个新的节点</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#59873A;">isUndef</span><span style="color:#999999;">(</span><span style="color:#B07D48;">idxInOld</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// New element</span></span>
<span class="line"><span style="color:#999999;">          </span><span style="color:#A0ADA0;">// 创建一个新Vnode</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#59873A;">createElm</span><span style="color:#999999;">(</span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">insertedVnodeQueue</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">parentElm</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#999999;">.</span><span style="color:#B07D48;">elm</span><span style="color:#999999;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 如果找到了和newStartVnodej具有相同的key的Vnode，叫vnodeToMove</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#B07D48;">vnodeToMove</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">[</span><span style="color:#B07D48;">idxInOld</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A0ADA0;">/* istanbul ignore if */</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">process</span><span style="color:#999999;">.</span><span style="color:#B07D48;">env</span><span style="color:#999999;">.</span><span style="color:#B07D48;">NODE_ENV</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!==</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">production</span><span style="color:#B5695999;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!</span><span style="color:#B07D48;">vnodeToMove</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#59873A;">warn</span><span style="color:#999999;">(</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">It seems there are duplicate keys that is causing an update error. </span><span style="color:#B5695999;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">Make sure each v-for item has a unique key.</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">          </span><span style="color:#A0ADA0;">// 比较两个具有相同的key的新节点是否是同一个节点</span></span>
<span class="line"><span style="color:#999999;">          </span><span style="color:#A0ADA0;">//不设key，newCh和oldCh只会进行头尾两端的相互比较，设key后，除了头尾两端的比较外，还会从用key生成的对象oldKeyToIdx中查找匹配的节点，所以为节点设置key可以更高效的利用dom。</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#59873A;">sameVnode</span><span style="color:#999999;">(</span><span style="color:#B07D48;">vnodeToMove</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">))</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// patch vnodeToMove和newStartVnode</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#59873A;">patchVnode</span><span style="color:#999999;">(</span><span style="color:#B07D48;">vnodeToMove</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">insertedVnodeQueue</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// 清除</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">oldCh</span><span style="color:#999999;">[</span><span style="color:#B07D48;">idxInOld</span><span style="color:#999999;">]</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">undefined</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// 如果removeOnly是false，则将找到的和newStartVnodej具有相同的key的Vnode，叫vnodeToMove.elm</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// 移动到oldStartVnode.elm之前</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">canMove</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">nodeOps</span><span style="color:#999999;">.</span><span style="color:#59873A;">insertBefore</span><span style="color:#999999;">(</span><span style="color:#B07D48;">parentElm</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">vnodeToMove</span><span style="color:#999999;">.</span><span style="color:#B07D48;">elm</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#999999;">.</span><span style="color:#B07D48;">elm</span><span style="color:#999999;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">          </span><span style="color:#A0ADA0;">// 如果key相同，但是节点不相同，则创建一个新的节点</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// same key but different element. treat as new element</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#59873A;">createElm</span><span style="color:#999999;">(</span><span style="color:#B07D48;">newStartVnode</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">insertedVnodeQueue</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">parentElm</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">oldStartVnode</span><span style="color:#999999;">.</span><span style="color:#B07D48;">elm</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 右移</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">newStartVnode</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newCh</span><span style="color:#999999;">[</span><span style="color:#AB5959;">++</span><span style="color:#B07D48;">newStartIdx</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br></div></div></li></ol></li></ul><h4 id="v-for%20%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%8A%A0%20key" tabindex="-1">v-for 为什么要加 key <a class="header-anchor" href="#v-for 为什么要加 key" aria-label="Permalink to &quot;v-for 为什么要加 key&quot;">​</a></h4><p>key属性主要用在Vue的虚拟DOM算法，在新旧nodes对比时辨识VNodes；如果不使用key，vue会使用一种最大限度减少动态元素并且尽可能尝试就地<strong>修改/复用</strong>相同类型元素的算法；而使用key时，它会<strong>基于key的变化重新排列元素顺序</strong>，并且会<strong>移除/销毁</strong>key不存在的元素。而当有key属性时，vue底层调用的是<strong>patchKeyedChildren方法</strong></p><p>我们举一个例子，在a、b、c、d四个中插入f变成a、b、f、c、d，从源码的角度去理解这段话。</p><p>a、b、c、d</p><p>a、b、f、c、d，</p><p>当没有key属性时，vue底层调用的是patchUnkeyedChildren方法，理论上c、d并无任何改动，但是却因为f的插入，导致f之后的所有内容都要进行改动，最后新增一个VNode，diff算法的效率并不高。</p><h4 id="SSR" tabindex="-1">SSR <a class="header-anchor" href="#SSR" aria-label="Permalink to &quot;SSR&quot;">​</a></h4><p>SSR 也就是服务端渲染，也就是将 Vue 在客户端把vnode渲染成 HTML 的工作放在服务端完成，然后再把 html 直接返回给客户端。</p><p><strong>优点：</strong></p><p>SSR 有着更好的 SEO、并且首屏加载速度更快</p><p><strong>缺点：</strong> 开发条件会受到限制，服务器端渲染只支持 beforeCreate 和 created 两个钩子，当我们需要一些外部扩展库时需要特殊处理，服务端渲染应用程序也需要处于 Node.js 的运行环境。服务器会有更大的负载需求</p><h4 id="%E5%8D%95%E9%A1%B5%E9%9D%A2%E4%B8%8E%E5%A4%9A%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%8C%BA%E5%88%AB" tabindex="-1">单页面与多页面的区别 <a class="header-anchor" href="#单页面与多页面的区别" aria-label="Permalink to &quot;单页面与多页面的区别&quot;">​</a></h4><p>（1）单页应用（SinglePage Application ， SPA） 指只有一个主页面的应用，一开始只需要加载一次js，css等相关资源。所有的内容都包含在主页面，对每一个功能模块组件化。单页面应用跳转，就是切换相关组件，只刷新局部资源。（仅在 Web 页面初始化时加载相应的 HTML、JavaScript 和 CSS。一旦页面加载完成，SPA 不会因为用户的操作而进行页面的重新加载或跳转；取而代之的是利用路由机制实现 HTML 内容的变换，UI 与用户的交互，避免页面的重新加载）</p><p>（2）多页应用（MultiPage Application ， MPA） 指有多个独立的页面的应用，每个页面必须重复加载，js，css等相关资源。多页应用跳转需要整页资源刷新。</p><h4 id="%E5%8D%95%E9%A1%B5%E5%BA%94%E7%94%A8%E9%A1%B9%E7%9B%AE%E8%BF%87%E5%A4%A7%E9%A6%96%E9%A1%B5%E5%8A%A0%E8%BD%BD%E6%85%A2%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3" tabindex="-1">单页应用项目过大首页加载慢如何解决 <a class="header-anchor" href="#单页应用项目过大首页加载慢如何解决" aria-label="Permalink to &quot;单页应用项目过大首页加载慢如何解决&quot;">​</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">使用CDN资源,减小服务器带宽压力</span></span>
<span class="line"><span style="color:#393a34;">路由懒加载</span></span>
<span class="line"><span style="color:#393a34;">将一些静态js css放到其他地方（如OSS），减小服务器压力</span></span>
<span class="line"><span style="color:#393a34;">按需加载三方资源，如iview,建议按需引入iview中的组件</span></span>
<span class="line"><span style="color:#393a34;">使用nginx开启gzip减小网络传输的流量大小</span></span>
<span class="line"><span style="color:#393a34;">webpack开启gzip压缩</span></span>
<span class="line"><span style="color:#393a34;">若首屏为登录页，可以做成多入口，登录页单独分离为一个入口</span></span>
<span class="line"><span style="color:#393a34;">SSR渲染</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="vue%20%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%BA%86%E5%93%AA%E4%BA%9B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F" tabindex="-1">vue 中使用了哪些设计模式 <a class="header-anchor" href="#vue 中使用了哪些设计模式" aria-label="Permalink to &quot;vue 中使用了哪些设计模式&quot;">​</a></h4><p>1.工厂模式 - 传入参数即可创建实例</p><p>虚拟 DOM 根据参数的不同返回基础标签的 Vnode 和组件 Vnode</p><p>2.单例模式 - 整个程序有且仅有一个实例</p><p>vuex 和 vue-router 的插件注册方法 install 判断如果系统存在实例就直接返回掉</p><p>3.发布-订阅模式 (vue 事件机制)</p><p>4.观察者模式 (响应式数据原理)</p><p>5.装饰模式: (@装饰器的用法)</p><h4 id="%E4%BD%A0%E9%83%BD%E5%81%9A%E8%BF%87%E5%93%AA%E4%BA%9B%20Vue%20%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" tabindex="-1">你都做过哪些 Vue 的性能优化 <a class="header-anchor" href="#你都做过哪些 Vue 的性能优化" aria-label="Permalink to &quot;你都做过哪些 Vue 的性能优化&quot;">​</a></h4><ul><li>对象层级不要过深，否则性能就会差</li><li>不需要响应式的数据不要放到 data 中（可以用 Object.freeze() 冻结数据）</li><li>v-if 和 v-show 区分使用场景</li><li>computed 和 watch 区分使用场景</li><li>v-for 遍历必须加 key，key 最好是 id 值，且避免同时使用 v-if</li><li>大数据列表和表格性能优化-虚拟列表/虚拟表格</li><li>防止内层泄漏，组件销毁后把全局变量和事件销毁</li><li>图片懒加载</li><li>路由懒加载</li><li>第三方插件的按需引入</li><li>适当采用 keep-alive 缓存组件</li><li>防抖、节流运用</li><li>服务端渲染 SSR or 预渲染</li></ul><h4 id="%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E6%98%A0%E5%B0%84props%E4%B8%89%E7%A7%8D%E5%86%99%E6%B3%95" tabindex="-1">路由参数映射props三种写法 <a class="header-anchor" href="#路由参数映射props三种写法" aria-label="Permalink to &quot;路由参数映射props三种写法&quot;">​</a></h4><ul><li><p>props布尔值写法</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#59873A;">path</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">/home</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">component</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">import</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">@/views/Home.vue</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">),</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">props</span><span style="color:#999999;">:</span><span style="color:#1E754F;">true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>props对象写法</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#59873A;">path</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">/home</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">component</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">import</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">@/views/Home.vue</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">),</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">props</span><span style="color:#999999;">:{</span><span style="color:#59873A;">a</span><span style="color:#999999;">:</span><span style="color:#2F798A;">1</span><span style="color:#999999;">,</span><span style="color:#59873A;">b</span><span style="color:#999999;">:</span><span style="color:#2F798A;">2</span><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>props函数写法</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#59873A;">path</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">/home</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">component</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">import</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">@/views/Home.vue</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">),</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">props</span><span style="color:#999999;">:(</span><span style="color:#B07D48;">$route</span><span style="color:#999999;">)=&gt;{</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#998418;">keyword</span><span style="color:#999999;">:</span><span style="color:#B07D48;">$route</span><span style="color:#999999;">.</span><span style="color:#B07D48;">params</span><span style="color:#999999;">.</span><span style="color:#B07D48;">keyword</span><span style="color:#999999;">,</span><span style="color:#998418;">a</span><span style="color:#999999;">:</span><span style="color:#B07D48;">$route</span><span style="color:#999999;">.</span><span style="color:#B07D48;">query</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul><h4 id="Vue.use()%20%E7%9A%84%E6%BA%90%E7%A0%81%E4%B8%AD%E7%9A%84%E9%80%BB%E8%BE%91" tabindex="-1">Vue.use() 的源码中的逻辑 <a class="header-anchor" href="#Vue.use() 的源码中的逻辑" aria-label="Permalink to &quot;Vue.use() 的源码中的逻辑&quot;">​</a></h4><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#59873A;">initUse</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">Vue</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">GlobalAPI</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#B07D48;">Vue</span><span style="color:#999999;">.</span><span style="color:#59873A;">use</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#59873A;">plugin</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">Function</span><span style="color:#999999;"> | </span><span style="color:#2E8F82;">Object</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">installedPlugins</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">_installedPlugins</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">||</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">_installedPlugins</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[]))</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">installedPlugins</span><span style="color:#999999;">.</span><span style="color:#59873A;">indexOf</span><span style="color:#999999;">(</span><span style="color:#B07D48;">plugin</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#2F798A;">1</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">args</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">toArray</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">arguments</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">args</span><span style="color:#999999;">.</span><span style="color:#59873A;">unshift</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">typeof</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">plugin</span><span style="color:#999999;">.</span><span style="color:#B07D48;">install</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">function</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B07D48;">plugin</span><span style="color:#999999;">.</span><span style="color:#B07D48;">install</span><span style="color:#999999;">.</span><span style="color:#59873A;">apply</span><span style="color:#999999;">(</span><span style="color:#B07D48;">plugin</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">args</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">typeof</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">plugin</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">function</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B07D48;">plugin</span><span style="color:#999999;">.</span><span style="color:#59873A;">apply</span><span style="color:#999999;">(</span><span style="color:#AB5959;">null</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">args</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">installedPlugins</span><span style="color:#999999;">.</span><span style="color:#59873A;">push</span><span style="color:#999999;">(</span><span style="color:#B07D48;">plugin</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>在源码中首先限制了它传入的值的类型只能是Function或者Object，然后判断了该插件是不是已经注册过，防止重复注册，然后调用了该插件的install方法，源码中也有介绍到Vue.use()可以接受多个参数的，除第一个参数之后的参数我们都是以参数的形式传入到当前组件中。</p><h4 id="h%E5%87%BD%E6%95%B0%E3%80%81render%E5%87%BD%E6%95%B0%E3%80%81%24mount" tabindex="-1">h函数、render函数、$mount <a class="header-anchor" href="#h函数、render函数、%24mount" aria-label="Permalink to &quot;h函数、render函数、$mount&quot;">​</a></h4><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">h函数就是render函数，本质上都是Vue中的createElement(tag,props,children)，其中children,也必须是createElement或者[createElement,createElement]</span></span>
<span class="line"><span style="color:#393a34;">$mount 主要是调用render函数，没有render则会解析模板创建render去调用，最后将Vnode渲染到文档中成为真实dom,同时监听页面，数据改变后去重新渲染页面</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="Vue3%E6%96%B0%E7%89%B9%E6%80%A7" tabindex="-1">Vue3新特性 <a class="header-anchor" href="#Vue3新特性" aria-label="Permalink to &quot;Vue3新特性&quot;">​</a></h4><h5 id="ref" tabindex="-1">ref <a class="header-anchor" href="#ref" aria-label="Permalink to &quot;ref&quot;">​</a></h5><p>ref用于将简单数据类型转换为一个响应式数据ref对象，能够再template 和 reactive中直接调用，在其他地方使用需要=》 响应式属性名.value</p><p>注意：值类型不具有响应式，所以需要ref() 来处理值类型，将其转换为ref对象。之所以用.value,是因为利用js对象的引用特性，保持数据变更前后能够关联在一起，而不是像值类型那样独立</p><h5 id="reactive" tabindex="-1">reactive <a class="header-anchor" href="#reactive" aria-label="Permalink to &quot;reactive&quot;">​</a></h5><p>reactive用于创建引用类型的响应式数据对象=》obj.响应式属性名</p><h5 id="toRef%E3%80%81toRefs%20%E5%BB%B6%E7%BB%AD%E5%93%8D%E5%BA%94%E5%BC%8F" tabindex="-1">toRef、toRefs 延续响应式 <a class="header-anchor" href="#toRef、toRefs 延续响应式" aria-label="Permalink to &quot;toRef、toRefs 延续响应式&quot;">​</a></h5><p>因为reactive 创建了一个reactive响应式对象,所以state.属性名 是响应式的，但如果{...state}就是将state解构成了一组单独的值类型数据，此时就不具备响应式了，所以需要利用toRef、toRefs将reactive响应式对象的某个属性或全部属性转换为ref对象，这样即使通过...state}解构后，形成的这一组单独的数据任然是ref响应式对象，而不是值类型</p><h5 id="%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F" tabindex="-1">全局变量 <a class="header-anchor" href="#全局变量" aria-label="Permalink to &quot;全局变量&quot;">​</a></h5><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#393a34;">app.config.globalProperties.num = &quot;10&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">getCurrentInstance</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">vue</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#B07D48;">MyComponent</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#59873A;">setup</span><span style="color:#999999;">() {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">internalInstance</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">getCurrentInstance</span><span style="color:#999999;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">     </span><span style="color:#B07D48;">internalInstance</span><span style="color:#999999;">.</span><span style="color:#B07D48;">appContext</span><span style="color:#999999;">.</span><span style="color:#B07D48;">config</span><span style="color:#999999;">.</span><span style="color:#B07D48;">num</span><span style="color:#999999;"> </span><span style="color:#A0ADA0;">// 访问 globalProperties</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">//或者</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#AB5959;">const </span><span style="color:#999999;">{</span><span style="color:#B07D48;">proxy</span><span style="color:#999999;">}=</span><span style="color:#AB5959;">  </span><span style="color:#59873A;">getCurrentInstance</span><span style="color:#999999;">()</span><span style="color:#AB5959;">  </span><span style="color:#A0ADA0;">//proxy.num</span></span>
<span class="line"><span style="color:#999999;">  }</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-1" tabindex="-1">生命周期 <a class="header-anchor" href="#生命周期-1" aria-label="Permalink to &quot;生命周期&quot;">​</a></h5><ul><li><p>onBeforeMount</p></li><li><p>onMounted</p></li><li><p>onBeforeUpdate</p></li><li><p>onUpdated</p></li><li><p>onBeforeUnmount</p></li><li><p>onUnmounted</p></li><li><p>onActivated</p></li><li><p>onDeactivated</p></li><li><p>onErrorCaptured-&gt; 当捕获一个来自子孙组件的异常时激活钩子函数;钩子函数要求我们返回一个布尔值，代表错误是否向上传递</p></li><li><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#A0ADA0;">/*</span></span>
<span class="line"><span style="color:#A0ADA0;">在异步请求中必须要作的一件事情，就是要捕获错误，因为我们没办法后端给我们返回的结果，也有可能服务不通，所以一定要进行捕获异常和进行处理。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">在vue3.x的版本中，可以使用onErrorCaptured这个钩子函数来捕获异常。在使用这个钩子函数前，需要先进行引入</span></span>
<span class="line"><span style="color:#A0ADA0;">import { onErrorCaptured} from &quot;vue&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">有了onErrorCaptured就可以直接在setup()函数中直接使用了。钩子函数要求我们返回一个布尔值，代表错误是否向上传递，我们这里返回了true。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">onErrorCaptured</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">vue</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">app</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">App</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">components</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">AsyncShow</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">GirlShow</span><span style="color:#393A34;"> </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">setup</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">onErrorCaptured</span><span style="color:#999999;">((</span><span style="color:#B07D48;">error</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">`</span><span style="color:#B56959;">error====&gt;</span><span style="color:#B5695999;">`</span><span style="color:#999999;">,</span><span style="color:#B07D48;">error</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#393A34;">  </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{};</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li></ul><h5 id="composition%20api" tabindex="-1">composition api <a class="header-anchor" href="#composition api" aria-label="Permalink to &quot;composition api&quot;">​</a></h5><ul><li>提升代码复用 灵活度</li></ul><h5 id="defineAsyncComponent" tabindex="-1">defineAsyncComponent <a class="header-anchor" href="#defineAsyncComponent" aria-label="Permalink to &quot;defineAsyncComponent&quot;">​</a></h5><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">&lt;!-- 异步组件的使用 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">AsyncPage</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">tempate</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">defineAsyncComponent</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">vue</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">components</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 无配置项异步组件</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">AsyncPage</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineAsyncComponent</span><span style="color:#999999;">(()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">import</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">./NextPage.vue</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">)),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// 有配置项异步组件</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">AsyncPageWithOptions</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineAsyncComponent</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#59873A;">loader</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">import</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">.NextPage.vue</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">),</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#998418;">delay</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">200</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#998418;">timeout</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">3000</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#59873A;">errorComponent</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">import</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">./ErrorComponent.vue</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">),</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#59873A;">loadingComponent</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">import</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">./LoadingComponent.vue</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">),</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h5 id="%E6%A8%A1%E6%9D%BF" tabindex="-1"><strong>模板</strong> <a class="header-anchor" href="#模板" aria-label="Permalink to &quot;**模板**&quot;">​</a></h5><p>模板方面没有大的变更，只改了作用域插槽，2.x 的机制导致作用域插槽变了，父组件会重新渲染，而 3.0 把作用域插槽改成了函数的方式，这样只会影响子组件的重新渲染，提升了渲染的性能。</p><h5 id="%E6%94%AF%E6%8C%81%20Fragment%EF%BC%88%E5%A4%9A%E4%B8%AA%E6%A0%B9%E8%8A%82%E7%82%B9%EF%BC%89" tabindex="-1">支持 Fragment（多个根节点） <a class="header-anchor" href="#支持 Fragment（多个根节点）" aria-label="Permalink to &quot;支持 Fragment（多个根节点）&quot;">​</a></h5><h5 id="Suspense" tabindex="-1">Suspense <a class="header-anchor" href="#Suspense" aria-label="Permalink to &quot;Suspense&quot;">​</a></h5><p><code>Suspense</code> 只是一个带插槽的组件，只是它的插槽指定了<code>default</code> 和 <code>fallback</code> 两种状态。</p><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">Suspense</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        &lt;template #default&gt;</span></span>
<span class="line"><span style="color:#393A34;">            &lt;async-component&gt;&lt;/async-component&gt;</span></span>
<span class="line"><span style="color:#393A34;">        &lt;/template&gt;</span></span>
<span class="line"><span style="color:#393A34;">        &lt;template #fallback&gt;</span></span>
<span class="line"><span style="color:#393A34;">            &lt;div&gt;</span></span>
<span class="line"><span style="color:#393A34;">                Loading...</span></span>
<span class="line"><span style="color:#393A34;">            &lt;/div&gt;</span></span>
<span class="line"><span style="color:#393A34;">        &lt;/template&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">Suspense</span><span style="color:#999999;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="vue3%E4%B8%BA%E4%BD%95%E6%AF%94vue2%E5%BF%AB" tabindex="-1">vue3为何比vue2快 <a class="header-anchor" href="#vue3为何比vue2快" aria-label="Permalink to &quot;vue3为何比vue2快&quot;">​</a></h4><h5 id="Proxy%E5%93%8D%E5%BA%94%E5%BC%8F%E6%80%A7%E8%83%BD%E6%9B%B4%E5%A5%BD" tabindex="-1">Proxy响应式性能更好 <a class="header-anchor" href="#Proxy响应式性能更好" aria-label="Permalink to &quot;Proxy响应式性能更好&quot;">​</a></h5><p>Object.defineProperty在劫持各个属性的时候是一次性递归监听，而Proxy只会在对get到的属性或一级属性进行响应式劫持，性能更好</p><p>Object.defineProperty无法处理对象的属性和数组的增加或删除 ，而Proxy可以在set中处理属性的增加，同时多了一个deleteProperty,用于监听删除</p><h5 id="PatchFlag" tabindex="-1">PatchFlag <a class="header-anchor" href="#PatchFlag" aria-label="Permalink to &quot;PatchFlag&quot;">​</a></h5><ul><li>编译的时候为动态节点做标记，如指令、属性、类、插值</li><li>标记分为不同类型，如class\props\TEXT等</li><li>diff算法可以区分出动态节点和其对应的类型，只对动态节点的前后进行比较</li></ul><p><img src="https://gitee.com/zhaogancheng/typora-map-depot/raw/master/image-20211228145559717.png" alt="image-20211228145559717"></p><h5 id="hoistStatic" tabindex="-1">hoistStatic <a class="header-anchor" href="#hoistStatic" aria-label="Permalink to &quot;hoistStatic&quot;">​</a></h5><p>将静态节点的定义提升到父作用域，缓存起来，之后的渲染直接拿缓存，避免的不必要的多次定义</p><p>多个相邻的静态节点会合并在一起</p><h5 id="cacheHandler" tabindex="-1">cacheHandler <a class="header-anchor" href="#cacheHandler" aria-label="Permalink to &quot;cacheHandler&quot;">​</a></h5><p>缓存事件，之后的渲染直接拿缓存，避免的不必要的多次定义</p><h5 id="SSR%E4%BC%98%E5%8C%96" tabindex="-1">SSR优化 <a class="header-anchor" href="#SSR优化" aria-label="Permalink to &quot;SSR优化&quot;">​</a></h5><p>静态节点不在走VDOM对象去渲染,而是直接输出DOM字符串，会被直接innerHtml</p><h5 id="Tree-shaking%E4%BC%98%E5%8C%96" tabindex="-1">Tree-shaking优化 <a class="header-anchor" href="#Tree-shaking优化" aria-label="Permalink to &quot;Tree-shaking优化&quot;">​</a></h5><p>更加模板里面使用的内容自动引入对应的功能模块，尽可能的减小体积</p><h4 id="vite%E4%B8%BA%E4%BD%95%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8" tabindex="-1">vite为何快速启动 <a class="header-anchor" href="#vite为何快速启动" aria-label="Permalink to &quot;vite为何快速启动&quot;">​</a></h4><p>vite在开发环境下，使用了ES6 Module 无需打包 直接引入,webpack需要将其打包编译成Es5耗时更长</p><p>Vue3 生命周期</p><p>基本上就是在 Vue2 生命周期钩子函数名基础上加了 on； beforeDestory 和 destoryed 更名为 onBeforeUnmount 和 onUnmounted； 然后用 setup 代替了两个钩子函数 beforeCreate 和 created； 新增了两个开发环境用于调试的钩子，在组件更新时 onRenderTracked 会跟踪组件里所有变量和方法的变化、每次触发渲染时 onRenderTriggered 会返回发生变化的新旧值，可以让我们进行有针对性调试；</p></div></div></main><footer class="VPDocFooter" data-v-e521b9a4 data-v-9519b7ec><!--[--><!--]--><div class="edit-info" data-v-9519b7ec><div class="edit-link" data-v-9519b7ec><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/vuejs/vitepress/edit/main/docs/eat/vue/interview_question.md" target="_blank" rel="noreferrer" data-v-9519b7ec><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-9519b7ec><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page<!--]--></a></div><div class="last-updated" data-v-9519b7ec><p class="VPLastUpdated" data-v-9519b7ec data-v-cd6026f8>Last updated: <time datetime="2024-02-29T10:12:54.000Z" data-v-cd6026f8></time></p></div></div><nav class="prev-next" data-v-9519b7ec><div class="pager" data-v-9519b7ec><a class="pager-link prev" href="/eat/arithmetic/" data-v-9519b7ec><span class="desc" data-v-9519b7ec>Previous page</span><span class="title" data-v-9519b7ec>算法</span></a></div><div class="pager" data-v-9519b7ec><a class="pager-link next" href="/eat/react/" data-v-9519b7ec><span class="desc" data-v-9519b7ec>Next page</span><span class="title" data-v-9519b7ec>React面试题库</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-36382ed6 data-v-55867999><div class="container" data-v-55867999><!----><!----></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"articles_project_webpack_intro_pre.md\":\"2879e5dd\",\"articles_project_webpack_base_development.md\":\"df42fa20\",\"articles_project_webpack_intro_learn.md\":\"efb2aacc\",\"articles_project_webpack_intro_asset.md\":\"86f6e21f\",\"articles_project_webpack_intro_group.md\":\"3562e1d1\",\"articles_project_webpack_senior_index.md\":\"88c82b11\",\"articles_project_webpack_project_summary.md\":\"4db8449f\",\"articles_project_webpack_base_index.md\":\"c0227afc\",\"articles_project_webpack_origin_summary.md\":\"2d6b53fc\",\"articles_project_webpack_base_base.md\":\"4d0fe045\",\"articles_python_index.md\":\"ae9114fe\",\"public_draco_readme.md\":\"1fc6faa6\",\"mine_index.md\":\"9d46217f\",\"works_iframepreview_foodadmin-pc.md\":\"305820f8\",\"works_zerokeeper_index.md\":\"76effba9\",\"works_iframepreview_foodadminmobile-mobile.md\":\"82cef2f0\",\"articles_servers_index.md\":\"eb2d78b0\",\"works_iframepreview_zrui-pc.md\":\"64e3e981\",\"works_storage_index.md\":\"93c871ec\",\"articles_project_webpack_intro_index.md\":\"896dc876\",\"works_foodadmin_index.md\":\"82044a3a\",\"works_flutterwindowsphotoalbums_index.md\":\"4f92cb70\",\"articles_project_webpack_base_clean.md\":\"489e575e\",\"works_index.md\":\"e2a82d4d\",\"articles_project_index.md\":\"44594d29\",\"articles_miniprocedure_index.md\":\"a72dcc6f\",\"works_foodadminmobile_index.md\":\"b86e6d35\",\"works_fluttermusic_index.md\":\"c78bb297\",\"articles_project_webpack_base_output.md\":\"fcb72ade\",\"articles_project_webpack_base_minifyhtml.md\":\"f0ce8fba\",\"articles_project_webpack_base_other.md\":\"aa752f00\",\"articles_project_webpack_base_font.md\":\"191ebb8a\",\"articles_project_webpack_base_production.md\":\"c7deed27\",\"eat_index.md\":\"98dccb97\",\"works_zrui_index.md\":\"60c6cbbd\",\"eat_react_index.md\":\"28d9e529\",\"articles_project_webpack_origin_index.md\":\"fec547e8\",\"articles_project_webpack_base_html.md\":\"a7b5f046\",\"works_vitezeroenvplugin_index.md\":\"154214e2\",\"works_tencentcloudv3_index.md\":\"886cec2a\",\"articles_project_vite.md\":\"91942041\",\"articles_project_webpack_base_server.md\":\"b7481c61\",\"articles_index.md\":\"1677412e\",\"articles_project_webpack_index.md\":\"feeb2b4f\",\"articles_project_webpack_senior_summary.md\":\"f1136164\",\"articles_project_webpack_base_image.md\":\"f537264f\",\"works_vuehooks_index.md\":\"485ea74e\",\"works_unimusic_index.md\":\"4f2d5ee0\",\"works_crisplog_index.md\":\"354f39b3\",\"works_lazyform_index.md\":\"49360e2b\",\"articles_react_index.md\":\"0a6533b3\",\"articles_flutter_index.md\":\"82d3615f\",\"articles_db_index.md\":\"60701d6e\",\"articles_project_webpack_project_index.md\":\"05990278\",\"articles_project_webpack_base_summary.md\":\"3daf96d7\",\"articles_project_webpack_base_config.md\":\"9e8e4a88\",\"articles_project_webpack_senior_enhanceexperience.md\":\"d02a0e5a\",\"articles_project_webpack_senior_reducevolume.md\":\"128d0031\",\"articles_project_webpack_base_optimizecss.md\":\"d6ecc0cd\",\"articles_project_webpack_origin_loader.md\":\"7722a0ed\",\"articles_project_webpack_base_css.md\":\"3332379c\",\"works_jstool_index.md\":\"c90d9f4b\",\"articles_project_webpack_base_javascript.md\":\"710d6eaf\",\"articles_project_webpack_senior_liftingspeed.md\":\"f205dd20\",\"articles_project_webpack_project_vue-cli.md\":\"ffb35e28\",\"eat_vue_interview_question.md\":\"2fdbcf76\",\"articles_project_webpack_origin_plugin.md\":\"9e1e0a74\",\"articles_javascript_interview_question.md\":\"272d4df2\",\"articles_vue_interview_question.md\":\"00fa7ffd\",\"articles_arithmetic_index.md\":\"f25573bd\",\"eat_arithmetic_index.md\":\"5a334947\",\"articles_project_webpack_senior_optimizeperformance.md\":\"ac0926ac\",\"articles_project_webpack_project_react-cli.md\":\"8ca7b945\",\"eat_javascript_interview_question.md\":\"358ac6a1\",\"index.md\":\"b4a35bcb\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh\",\"dir\":\"ltr\",\"title\":\"Zero\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"appearance\":\"dark\",\"themeConfig\":{\"logo\":\"/avatar.png\",\"lastUpdated\":true,\"search\":{\"provider\":\"local\"},\"outline\":{\"label\":\"目录\",\"level\":\"deep\"},\"externalLinkIcon\":true,\"editLink\":{\"pattern\":\"https://github.com/vuejs/vitepress/edit/main/docs/:path\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/ruo-love\"}],\"footer\":{\"message\":\"\",\"copyright\":\"\"},\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"博客\",\"link\":\"/articles/\",\"activeMatch\":\"/articles/\"},{\"text\":\"作品\",\"link\":\"/works/\",\"activeMatch\":\"/works/\"},{\"text\":\"简历\",\"link\":\"/mine/\",\"activeMatch\":\"/mine/\"},{\"text\":\"吃饭\",\"link\":\"/eat/\",\"activeMatch\":\"/eat/\"}],\"sidebar\":{\"/articles/\":[{\"text\":\"CSDN专栏\",\"items\":[{\"text\":\"小程序\",\"link\":\"https://blog.csdn.net/saxx2/category_12596909.html\"},{\"text\":\"前端每日一练\",\"link\":\"https://blog.csdn.net/saxx2/category_12594864.html\"},{\"text\":\"今日推荐库\",\"link\":\"https://blog.csdn.net/saxx2/category_12595083.html\"},{\"text\":\"翻'坑'奇遇记\",\"link\":\"https://blog.csdn.net/saxx2/category_12594854.html\"},{\"text\":\"Python\",\"link\":\"https://blog.csdn.net/saxx2/category_12596384.html\"},{\"text\":\"前端工程化\",\"link\":\"https://blog.csdn.net/saxx2/category_12596914.html\"}]}],\"/works/\":[{\"text\":\"crisp-log\",\"link\":\"/works/crispLog/\"},{\"text\":\"zero-keeper\",\"link\":\"/works/zeroKeeper/\"},{\"text\":\"storage\",\"link\":\"/works/storage/\"},{\"text\":\"vite-zero-env-plugin\",\"link\":\"/works/viteZeroEnvPlugin/\"},{\"text\":\"vue3 Hooks\",\"link\":\"/works/vuehooks/\"},{\"text\":\"腾讯云V3签名自动生成库\",\"link\":\"/works/tencentcloudv3/\"},{\"text\":\"大学期间作品\",\"items\":[{\"text\":\"js工具函数库\",\"link\":\"/works/jstool/\"},{\"text\":\"Lazy Form 配置型表单\",\"link\":\"/works/lazyform/\"},{\"text\":\"外卖后台管理系统\",\"link\":\"/works/foodAdmin/\"},{\"text\":\"外卖h5移动端\",\"link\":\"/works/foodAdminMobile/\"},{\"text\":\"Zrui vue3 组件库\",\"link\":\"/works/zrui/\"},{\"text\":\"Flutter桌面图床\",\"link\":\"/works/flutterWindowsPhotoAlbums/\"},{\"text\":\"uni音乐app\",\"link\":\"/works/uniMusic/\"},{\"text\":\"RuoMU\",\"link\":\"/works/flutterMusic/\"}]}],\"/articles/project/\":[{\"text\":\"基础\",\"link\":\"/articles/project/webpack/intro/\",\"items\":[{\"text\":\"base\",\"link\":\"/articles/project/webpack/base/base\"},{\"text\":\"config\",\"link\":\"/articles/project/webpack/base/config\"},{\"text\":\"development\",\"link\":\"/articles/project/webpack/base/development\"},{\"text\":\"css\",\"link\":\"/articles/project/webpack/base/css\"},{\"text\":\"image\",\"link\":\"/articles/project/webpack/base/image\"},{\"text\":\"output\",\"link\":\"/articles/project/webpack/base/output\"},{\"text\":\"clean\",\"link\":\"/articles/project/webpack/base/clean\"},{\"text\":\"font\",\"link\":\"/articles/project/webpack/base/font\"},{\"text\":\"other\",\"link\":\"/articles/project/webpack/base/other\"},{\"text\":\"javascript\",\"link\":\"/articles/project/webpack/base/javascript\"},{\"text\":\"html\",\"link\":\"/articles/project/webpack/base/html\"},{\"text\":\"server\",\"link\":\"/articles/project/webpack/base/server\"},{\"text\":\"production\",\"link\":\"/articles/project/webpack/base/production\"},{\"text\":\"optimizeCss\",\"link\":\"/articles/project/webpack/base/optimizeCss\"},{\"text\":\"minifyHtml\",\"link\":\"/articles/project/webpack/base/minifyHtml\"},{\"text\":\"summary\",\"link\":\"/articles/project/webpack/base/summary\"}]},{\"text\":\"高级\",\"link\":\"/articles/project/webpack/senior/\",\"items\":[{\"text\":\"提升开发体验\",\"link\":\"/articles/project/webpack/senior/enhanceExperience\"},{\"text\":\"提升打包构建速度\",\"link\":\"/articles/project/webpack/senior/liftingSpeed\"},{\"text\":\"优化代码运行性能\",\"link\":\"/articles/project/webpack/senior/optimizePerformance\"},{\"text\":\"减少代码体积\",\"link\":\"/articles/project/webpack/senior/reduceVolume\"},{\"text\":\"总结\",\"link\":\"/articles/project/webpack/senior/summary\"}]},{\"text\":\"项目\",\"link\":\"/articles/project/webpack/project/\",\"items\":[{\"text\":\"react\",\"link\":\"/articles/project/webpack/project/react-cli\"},{\"text\":\"vue\",\"link\":\"/articles/project/webpack/project/vue-cli\"},{\"text\":\"总结\",\"link\":\"/articles/project/webpack/project/summary\"}]},{\"text\":\"原理\",\"link\":\"/articles/project/webpack/origin/\",\"items\":[{\"text\":\"loader\",\"link\":\"/articles/project/webpack/origin/loader\"},{\"text\":\"plugin\",\"link\":\"/articles/project/webpack/origin/plugin\"},{\"text\":\"总结\",\"link\":\"/articles/project/webpack/origin/summary\"}]}],\"/eat/\":[{\"text\":\"面试题\",\"items\":[{\"text\":\"javaScript面试题库\",\"link\":\"/eat/javascript/interview_question\"},{\"text\":\"算法\",\"link\":\"/eat/arithmetic/\"},{\"text\":\"Vue面试题库\",\"link\":\"/eat/vue/interview_question\"},{\"text\":\"React面试题库\",\"link\":\"/eat/react/\"}]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>