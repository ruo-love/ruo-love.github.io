import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.a944d67c.js";const A=JSON.parse('{"title":"提升开发体验","description":"","frontmatter":{},"headers":[],"relativePath":"articles/project/webpack/senior/enhanceExperience.md","filePath":"articles/project/webpack/senior/enhanceExperience.md","lastUpdated":1694668148000}'),e={name:"articles/project/webpack/senior/enhanceExperience.md"},o=l(`<h1 id="%E6%8F%90%E5%8D%87%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C" tabindex="-1">提升开发体验 <a class="header-anchor" href="#提升开发体验" aria-label="Permalink to &quot;提升开发体验&quot;">​</a></h1><h2 id="SourceMap" tabindex="-1">SourceMap <a class="header-anchor" href="#SourceMap" aria-label="Permalink to &quot;SourceMap&quot;">​</a></h2><h3 id="%E4%B8%BA%E4%BB%80%E4%B9%88" tabindex="-1">为什么 <a class="header-anchor" href="#为什么" aria-label="Permalink to &quot;为什么&quot;">​</a></h3><p>开发时我们运行的代码是经过 webpack 编译后的，例如下面这个样子：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light has-diff"><code><span class="line"><span style="color:#A0ADA0;">/*</span></span>
<span class="line"><span style="color:#A0ADA0;"> * ATTENTION: The &quot;eval&quot; devtool has been used (maybe by default in mode: &quot;development&quot;).</span></span>
<span class="line"><span style="color:#A0ADA0;"> * This devtool is neither made for production nor for readable output files.</span></span>
<span class="line"><span style="color:#A0ADA0;"> * It uses &quot;eval()&quot; calls to create a separate source file in the browser devtools.</span></span>
<span class="line"><span style="color:#A0ADA0;"> * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)</span></span>
<span class="line"><span style="color:#A0ADA0;"> * or disable the default devtool with &quot;devtool: false&quot;.</span></span>
<span class="line"><span style="color:#A0ADA0;"> * If you are looking for production-ready output files, see mode: &quot;production&quot; (https://webpack.js.org/configuration/mode/).</span></span>
<span class="line"><span style="color:#A0ADA0;"> */</span></span>
<span class="line"><span style="color:#A0ADA0;">/******/</span><span style="color:#393A34;"> </span><span style="color:#999999;">(()</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// webpackBootstrap</span></span>
<span class="line"><span style="color:#A0ADA0;">/******/</span><span style="color:#393A34;"> 	</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">use strict</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#A0ADA0;">/******/</span><span style="color:#393A34;"> 	</span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#59873A;">__webpack_modules__</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">({</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">/***/</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/less/index.less</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">:</span></span>
<span class="line"><span style="color:#A0ADA0;">/*!**********************************************************************************************************!*\\</span></span>
<span class="line"><span style="color:#A0ADA0;">  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/less/index.less ***!</span></span>
<span class="line"><span style="color:#A0ADA0;">  \\**********************************************************************************************************/</span></span>
<span class="line"><span style="color:#A0ADA0;">/***/</span><span style="color:#393A34;"> </span><span style="color:#999999;">((</span><span style="color:#B07D48;">module</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">__webpack_exports__</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">__webpack_require__</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#59873A;">eval</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">__webpack_require__.r(__webpack_exports__);</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">/* harmony export */ __webpack_require__.d(__webpack_exports__, {</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">/* harmony export */   </span><span style="color:#A65E2B;">\\&quot;</span><span style="color:#B56959;">default</span><span style="color:#A65E2B;">\\&quot;</span><span style="color:#B56959;">: () =&gt; (__WEBPACK_DEFAULT_EXPORT__)</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">/* harmony export */ });</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ </span><span style="color:#A65E2B;">\\&quot;</span><span style="color:#B56959;">./node_modules/css-loader/dist/runtime/noSourceMaps.js</span><span style="color:#A65E2B;">\\&quot;</span><span style="color:#B56959;">);</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ </span><span style="color:#A65E2B;">\\&quot;</span><span style="color:#B56959;">./node_modules/css-loader/dist/runtime/api.js</span><span style="color:#A65E2B;">\\&quot;</span><span style="color:#B56959;">);</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">// Imports</span><span style="color:#A65E2B;">\\n\\n\\n</span><span style="color:#B56959;">var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">// Module</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">___CSS_LOADER_EXPORT___.push([module.id, </span><span style="color:#A65E2B;">\\&quot;</span><span style="color:#B56959;">.box2 {</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B56959;">n  width: 100px;</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B56959;">n  height: 100px;</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B56959;">n  background-color: deeppink;</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B56959;">n}</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B56959;">n</span><span style="color:#A65E2B;">\\&quot;</span><span style="color:#B56959;">, </span><span style="color:#A65E2B;">\\&quot;\\&quot;</span><span style="color:#B56959;">]);</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">// Exports</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);</span><span style="color:#A65E2B;">\\n\\n\\n</span><span style="color:#B56959;">//# sourceURL=webpack://webpack5/./src/less/index.less?./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">/***/</span><span style="color:#393A34;"> </span><span style="color:#999999;">}),</span></span>
<span class="line"><span style="color:#A0ADA0;">// 其他省略</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>所有 css 和 js 合并成了一个文件，并且多了其他代码。此时如果代码运行出错那么提示代码错误位置我们是看不懂的。一旦将来开发代码文件很多，那么很难去发现错误出现在哪里。</p><p>所以我们需要更加准确的错误提示，来帮助我们更好的开发代码。</p><h3 id="%E6%98%AF%E4%BB%80%E4%B9%88" tabindex="-1">是什么 <a class="header-anchor" href="#是什么" aria-label="Permalink to &quot;是什么&quot;">​</a></h3><p>SourceMap（源代码映射）是一个用来生成源代码与构建后代码一一映射的文件的方案。</p><p>它会生成一个 xxx.map 文件，里面包含源代码和构建后代码每一行、每一列的映射关系。当构建后代码出错了，会通过 xxx.map 文件，从构建后代码出错位置找到映射后源代码出错位置，从而让浏览器提示源代码文件出错位置，帮助我们更快的找到错误根源。</p><h3 id="%E6%80%8E%E4%B9%88%E7%94%A8" tabindex="-1">怎么用 <a class="header-anchor" href="#怎么用" aria-label="Permalink to &quot;怎么用&quot;">​</a></h3><p>通过查看<a href="https://webpack.docschina.org/configuration/devtool/" target="_blank" rel="noreferrer">Webpack DevTool 文档</a>可知，SourceMap 的值有很多种情况.</p><p>但实际开发时我们只需要关注两种情况即可：</p><ul><li><p>开发模式：<code>cheap-module-source-map</code></p><ul><li>优点：打包编译速度快，只包含行映射</li><li>缺点：没有列映射</li></ul></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#998418;">module</span><span style="color:#999999;">.</span><span style="color:#998418;">exports</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 其他省略</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">mode</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">development</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">devtool</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">cheap-module-source-map</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>生产模式：<code>source-map</code><ul><li>优点：包含行/列映射</li><li>缺点：打包编译速度更慢</li></ul></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-light"><code><span class="line"><span style="color:#998418;">module</span><span style="color:#999999;">.</span><span style="color:#998418;">exports</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 其他省略</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">mode</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">production</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">devtool</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">source-map</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,17),p=[o];function r(t,c,_,i,u,y){return a(),n("div",null,p)}const m=s(e,[["render",r]]);export{A as __pageData,m as default};
